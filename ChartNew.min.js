window.Chart=function(context){function roundToWithThousands(a,b,c){var d=1*unFormat(a,b);if("number"==typeof d&&"none"!=c)if(0>=c){var e=-c;d=+(Math.round(d+"e+"+e)+"e-"+e)}else{var e=c,f="1e+"+e;value=+Math.round(d/f)*f}return d=fmtChartJS(a,d,"none")}function unFormat(a,b){if("."==a.decimalSeparator&&""==a.thousandSeparator||"string"!=typeof b)return b;var c=""+b;if(""!=a.thousandSeparator)for(;c.indexOf(a.thousandSeparator)>=0;)c=""+c.replace(a.thousandSeparator,"");return"."!=a.decimalSeparator&&(c=""+c.replace(a.decimalSeparator,".")),1*c}function fmtChartJSPerso(a,b,c){switch(c){case"SampleJS_Format":return_value="number"==typeof b?"My Format : "+b.toString()+" $":b+"XX";break;case"Change_Month":return_value="string"==typeof b?b.toString()+" 2014":b.toString()+"YY";break;default:return_value=b}return return_value}function fmtChartJS(a,b,c){var d;if("notformatted"==c)d=b;else if("none"==c&&"number"==typeof b){if("none"!=a.roundNumber)if(a.roundNumber<=0){var e=-a.roundNumber;b=+(Math.round(b+"e+"+e)+"e-"+e)}else{var e=a.roundNumber,f="1e+"+e;b=+Math.round(b/f)*f}if("."!=a.decimalSeparator||""!=a.thousandSeparator){if(d=b.toString().replace(/\./g,a.decimalSeparator),""!=a.thousandSeparator){var g=d,h="",i=g.indexOf(a.decimalSeparator);i>=0&&(h=g.substring(i+1,g.length),h=h.split("").reverse().join(""),g=g.substring(0,i)),g=g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a.thousandSeparator),h=h.split("").reverse().join(""),d=g,""!=h&&(d=d+a.decimalSeparator+h)}}else d=b}else d="none"!=c&&"notformatted"!=c?fmtChartJSPerso(a,b,c):b;return d}function tmplbis(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cachebis[a]=cachebis[a]||tmplbis(document.getElementById(a).innerHTML);return b?c(b):c}function createCursorDiv(){if(0==cursorDivCreated){var a=document.createElement("divCursor");a.id="divCursor",a.style.position="absolute",document.body.appendChild(a),cursorDivCreated=!0}}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop",bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(obj,nest){return createCursorDiv(),nest=nest?"document."+nest+".":"",this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0,this.moveIt=b_moveIt,cursorInit(),this}function b_moveIt(a,b){this.x=a,this.y=b,this.css.left=this.x+"px",this.css.top=this.y+"px"}function isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function mergeChartConfig(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}function sleep(a){var b=new Date;for(b.setTime(b.getTime()+a);(new Date).getTime()<b.getTime(););}function saveCanvas(a,b,c,d){cvSave=a.getImageData(0,0,a.canvas.width,a.canvas.height);var e={savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1},f=mergeChartConfig(c,e);switch(f.clearRect=!1,d){case"Bar":new Chart(a.canvas.getContext("2d")).Bar(b,f);break;case"Pie":new Chart(a.canvas.getContext("2d")).Pie(b,f);break;case"Doughnut":new Chart(a.canvas.getContext("2d")).Doughnut(b,f);break;case"Radar":new Chart(a.canvas.getContext("2d")).Radar(b,f);break;case"PolarArea":new Chart(a.canvas.getContext("2d")).PolarArea(b,f);break;case"HorizontalBar":new Chart(a.canvas.getContext("2d")).HorizontalBar(b,f);break;case"StackedBar":new Chart(a.canvas.getContext("2d")).StackedBar(b,f);break;case"HorizontalStackedBar":new Chart(a.canvas.getContext("2d")).HorizontalStackedBar(b,f);break;case"Line":new Chart(a.canvas.getContext("2d")).Line(b,f)}if("NewWindow"==c.savePngOuput){var g=a.canvas.toDataURL();a.putImageData(cvSave,0,0),window.open(g,"_blank")}if("CurrentWindow"==c.savePngOuput){var g=a.canvas.toDataURL();a.putImageData(cvSave,0,0),window.location.href=g}"Save"==c.savePngOuput&&(document.location.href=a.canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),a.putImageData(cvSave,0,0))}function dynamicFunction(a,b,c,d){if(b.dynamicDisplay){if(""==c.canvas.id){var e=new Date,f=e.getTime();c.canvas.id="Canvas_"+f}if("undefined"==typeof dynamicDisplay[c.canvas.id]&&(dynamicDisplayList[dynamicDisplayList.length]=c.canvas.id,dynamicDisplay[c.canvas.id]=[c.canvas,!1,!1,a,b,c.canvas,d],dynamicDisplay[c.canvas.id][1]=isScrolledIntoView(c.canvas),window.onscroll=scrollFunction),0==dynamicDisplay[c.canvas.id][1]||1==dynamicDisplay[c.canvas.id][2])return!1;dynamicDisplay[c.canvas.id][2]=!0}return!0}function isScrolledIntoView(a){var b=0,c=0;for(elem=a;elem;)b+=elem.offsetLeft-elem.scrollLeft+elem.clientLeft,c+=elem.offsetTop-elem.scrollTop+elem.clientTop,elem=elem.offsetParent;return b+a.width/2>=window.pageXOffset&&b+a.width/2<=window.pageXOffset+window.innerWidth&&c+a.height/2>=window.pageYOffset&&c+a.height/2<=window.pageYOffset+window.innerHeight?!0:!1}function scrollFunction(){for(var a=0;a<dynamicDisplayList.length;a++)if(isScrolledIntoView(dynamicDisplay[dynamicDisplayList[a]][5])&&0==dynamicDisplay[dynamicDisplayList[a]][2])switch(dynamicDisplay[dynamicDisplayList[a]][1]=!0,dynamicDisplay[dynamicDisplayList[a]][6]){case"Bar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Bar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Pie":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Pie(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Doughnut":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Doughnut(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Radar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Radar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"PolarArea":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).PolarArea(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"HorizontalBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).HorizontalBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"StackedBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).StackedBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"HorizontalStackedBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).HorizontalStackedBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Line":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Line(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4])}}function getMousePos(a,b){var c=a.getBoundingClientRect();return{x:b.clientX-c.left,y:b.clientY-c.top}}function doMouseMove(ctx,config,event){var annotateDIV=document.getElementById("divCursor");for(show=!1,annotateDIV.className=config.annotateClassName?config.annotateClassName:"",annotateDIV.style.border=config.annotateClassName?"":config.annotateBorder,annotateDIV.style.padding=config.annotateClassName?"":config.annotatePadding,annotateDIV.style.borderRadius=config.annotateClassName?"":config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateClassName?"":config.annotateBackgroundColor,annotateDIV.style.color=config.annotateClassName?"":config.annotateFontColor,annotateDIV.style.fontFamily=config.annotateClassName?"":config.annotateFontFamily,annotateDIV.style.fontSize=config.annotateClassName?"":config.annotateFontSize+"pt",annotateDIV.style.fontStyle=config.annotateClassName?"":config.annotateFontStyle,canvas_pos=getMousePos(ctx.canvas,event),i=0;i<jsGraphAnnotate[ctx.ChartNewId].length;i++){if("ARC"==jsGraphAnnotate[ctx.ChartNewId][i][0]){if(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])),distance>jsGraphAnnotate[ctx.ChartNewId][i][3]&&distance<jsGraphAnnotate[ctx.ChartNewId][i][4]){for(angle=Math.acos((canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])/distance),canvas_pos.y<jsGraphAnnotate[ctx.ChartNewId][i][2]&&(angle=-angle);0>angle;)angle+=2*Math.PI;for(;angle>2*Math.PI;)angle-=2*Math.PI;angle<config.startAngle*(Math.PI/360)&&(angle+=2*Math.PI),(angle>jsGraphAnnotate[ctx.ChartNewId][i][5]&&angle<jsGraphAnnotate[ctx.ChartNewId][i][6]||angle>jsGraphAnnotate[ctx.ChartNewId][i][5]-2*Math.PI&&angle<jsGraphAnnotate[ctx.ChartNewId][i][6]-2*Math.PI||angle>jsGraphAnnotate[ctx.ChartNewId][i][5]+2*Math.PI&&angle<jsGraphAnnotate[ctx.ChartNewId][i][6]+2*Math.PI)&&(v1=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][7],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][8],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][11],config.fmtV5),v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.ChartNewId][i][8]/jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV6),v6=roundToWithThousands(config,v6,config.roundPct),v7=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][1],config.fmtV7),v8=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][2],config.fmtV8),v9=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][3],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][4],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][5],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][6],config.fmtV12),v13=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][12],config.fmtV13),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,v13:v13,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=dispString,show=!0,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop))}}else"RECT"==jsGraphAnnotate[ctx.ChartNewId][i][0]?canvas_pos.x>jsGraphAnnotate[ctx.ChartNewId][i][1]&&canvas_pos.x<jsGraphAnnotate[ctx.ChartNewId][i][3]&&canvas_pos.y<jsGraphAnnotate[ctx.ChartNewId][i][2]&&canvas_pos.y>jsGraphAnnotate[ctx.ChartNewId][i][4]&&(v1=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][5],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][6],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][7],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][8],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV5),v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.ChartNewId][i][7]/jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV6),v6=roundToWithThousands(config,v6,config.roundPct),v7=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][1],config.fmtV7),v8=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][2],config.fmtV8),v9=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][3],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][4],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][11],config.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=dispString,show=!0,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop)):"POINT"==jsGraphAnnotate[ctx.ChartNewId][i][0]&&(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])),10>distance&&(v1=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][3],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][4],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][5],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][6],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][7],config.fmtV5),v6=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][8],config.fmtV6),v7=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV7),v8=fmtChartJS(config,100*jsGraphAnnotate[ctx.ChartNewId][i][5]/jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV8),v8=roundToWithThousands(config,v8,config.roundPct),v9=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][1],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][2],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][11],config.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=dispString,show=!0,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop)));annotateDIV.style.display=show?"":"none"}}function calculateOffset(a,b,c,d){if(a.logarithmic)return CapValue(log10(b)*d-calculateOrderOfMagnitude(c.graphMin)*d,void 0,0);var e=c.steps*c.stepValue,f=b-c.graphMin,g=CapValue(f/e,1,0);return d*c.steps*g}function animationLoop(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){var n=a.animation?CapValue(t(u),null,0):1;1*p>=1*CapValue(a.animationSteps,Number.MAX_VALUE,1)||0==a.animation?n=1:n>=1&&(n=.9999),isIE()<9&&0!=isIE()||!a.clearRect||d.clearRect(e,f,g,h),dispCrossText(d,a,i,j,k,l,!1,m,n,p),a.scaleOverlay?(c(n),b()):(b(),c(n)),dispCrossText(d,a,i,j,k,l,!0,m,n,p)}function o(){p+=r,u+=r*s,p==a.animationSteps||0==a.animation?u=1:u>=1&&(u=.999),n(),-1==r&&v>=p?("function"==typeof a.onAnimationComplete&&a.onAnimationComplete(d,a,m,0,q),r=1,requestAnimFrame(o)):u<a.animationStopValue?requestAnimFrame(o):("function"==typeof a.onAnimationComplete&&a.onAnimationComplete(d,a,m,1,q),(q<a.animationCount||0==a.animationCount)&&(0!=a.animationCount&&q++,a.animationBackward&&1==r?(u-=s,r=-1):(r=1,p=v-1,u=w-s),window.setTimeout(o,2e3)))}var p=0,q=1,r=1;(a.animationStartValue<0||a.animationStartValue>1)&&(a.animation.StartValue=0),(a.animationStopValue<0||a.animationStopValue>1)&&(a.animation.StopValue=1),a.animationStopValue<a.animationStartValue&&(a.animationStopValue=a.animationStartValue),isIE()<9&&0!=isIE()&&(a.animation=!1);var s=a.animation?1/CapValue(a.animationSteps,Number.MAX_VALUE,1):1,t=animationOptions[a.animationEasing],u=a.animation?0:1;if(a.animation&&a.animationStartValue>0&&a.animationStartValue<=1)for(;u<a.animationStartValue;)p++,u+=s;var v=p,w=u;"function"!=typeof b&&(b=function(){}),a.clearRect?requestAnimFrame(o):o()}function calculateScale(a,b,c,d,e,f){var g,h,i,j,k,l,m;if(a.logarithmic?(g=Math.pow(10,calculateOrderOfMagnitude(e)),h=Math.pow(10,calculateOrderOfMagnitude(d)+1),m=calculateOrderOfMagnitude(h)-calculateOrderOfMagnitude(g)):(l=d-e,m=calculateOrderOfMagnitude(l),g=Math.floor(e/(1*Math.pow(10,m)))*Math.pow(10,m),h=Math.ceil(d/(1*Math.pow(10,m)))*Math.pow(10,m)),i=h-g,j=Math.pow(10,m),k=Math.round(i/j),a.logarithmic)k=m;else for(;c>k||k>b;)c>k?(j/=2,k=Math.round(i/j)):(j*=2,k=Math.round(i/j));var n=[];return populateLabels(a,f,n,k,g,h,j),{steps:k,stepValue:j,graphMin:g,labels:n,maxValue:d}}function calculateOrderOfMagnitude(a){return Math.floor(Math.log(a)/Math.LN10)}function populateLabels(a,b,c,d,e,f,g){if(b)if(a.logarithmic)for(var h=e;f>h;)c.push(tmpl(b,{value:fmtChartJS(a,1*h.toFixed(getDecimalPlaces(g)),a.fmtYLabel)})),h*=10;else for(var i=0;d+1>i;i++)c.push(tmpl(b,{value:fmtChartJS(a,1*(e+g*i).toFixed(getDecimalPlaces(g)),a.fmtYLabel)}))}function Max(a){return Math.max.apply(Math,a)}function Min(a){return Math.min.apply(Math,a)}function Default(a,b){return a?a:b}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function CapValue(a,b,c){return isNumber(b)&&a>b?b:isNumber(c)&&c>a?c:a}function getDecimalPlaces(a){return a%1!=0?a.toString().split(".")[1].length:0}function mergeChartConfig(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}function tmpl(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[a]=cache[a]||tmpl(document.getElementById(a).innerHTML);return b?c(b):c}function dispCrossText(a,b,c,d,e,f,g,h,i,j){var k,l,m,n;for(k=0;k<b.crossText.length;k++)if(""!=b.crossText[k]&&b.crossTextOverlay[Min([k,b.crossTextOverlay.length-1])]==g&&(1==j&&"first"==b.crossTextIter[Min([k,b.crossTextIter.length-1])]||b.crossTextIter[Min([k,b.crossTextIter.length-1])]==j||"all"==b.crossTextIter[Min([k,b.crossTextIter.length-1])]||1==i&&"last"==b.crossTextIter[Min([k,b.crossTextIter.length-1])])){switch(a.save(),a.beginPath(),a.font=b.crossTextFontStyle[Min([k,b.crossTextFontStyle.length-1])]+" "+b.crossTextFontSize[Min([k,b.crossTextFontSize.length-1])]+"px "+b.crossTextFontFamily[Min([k,b.crossTextFontFamily.length-1])],a.fillStyle=b.crossTextFontColor[Min([k,b.crossTextFontColor.length-1])],textAlign=b.crossTextAlign[Min([k,b.crossTextAlign.length-1])],textBaseline=b.crossTextBaseline[Min([k,b.crossTextBaseline.length-1])],m=1*b.crossTextPosX[Min([k,b.crossTextPosX.length-1])],n=1*b.crossTextPosY[Min([k,b.crossTextPosY.length-1])],1*b.crossTextRelativePosX[Min([k,b.crossTextRelativePosX.length-1])]){case 0:"default"==textAlign&&(textAlign="left");break;case 1:m+=e,"default"==textAlign&&(textAlign="right");break;case 2:m+=c,"default"==textAlign&&(textAlign="center");break;case-2:m+=context.canvas.width/2,"default"==textAlign&&(textAlign="center");break;case 3:m+=m+2*c-e,"default"==textAlign&&(textAlign="left");break;case 4:m+=context.canvas.width,"default"==textAlign&&(textAlign="right");break;default:m+=c,"default"==textAlign&&(textAlign="center")}switch(1*b.crossTextRelativePosY[Min([k,b.crossTextRelativePosY.length-1])]){case 0:"default"==textBaseline&&(textBaseline="top");break;case 3:n+=f,"default"==textBaseline&&(textBaseline="top");break;case 2:n+=d,"default"==textBaseline&&(textBaseline="middle");break;case-2:n+=context.canvas.height/2,"default"==textBaseline&&(textBaseline="middle");break;case 1:n+=n+2*d-f,"default"==textBaseline&&(textBaseline="bottom");break;case 4:n+=context.canvas.height,"default"==textBaseline&&(textBaseline="bottom");break;default:n+=d,"default"==textBaseline&&(textBaseline="middle")}a.textAlign=textAlign,a.textBaseline=textBaseline,a.translate(1*m,1*n),a.rotate(b.crossTextAngle[Min([k,b.crossTextAngle.length-1])]),"%"==b.crossText[k].substring(0,1)?"function"==typeof b.crossTextFunction&&(l=b.crossTextFunction(k,b.crossText[k],a,b,c,d,e,f,g,h,i)):l=b.crossText[k],a.fillText(l,0,0),a.stroke(),a.restore()}}function setMeasures(a,b,c,d,e,f,g,h,i,j,k){"none"!=b.canvasBackgroundColor&&(c.canvas.style.background=b.canvasBackgroundColor);var l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,m=0,E=0,F=0,G=1,H=0,I=0,J=0,K=0;if(b.canvasBorders&&(l=b.canvasBordersWidth),i){c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;for(var L=0;L<a.labels.length;L++){var M=c.measureText(fmtChartJS(b,a.labels[L],b.fmtXLabel)).width;G=M>G?M:G}}if(widestYLabel=1,i&&null!=f){c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;for(var L=f.length-1;L>=0;L--)if("string"==typeof f[L]&&""!=f[L].trim()){var M=c.measureText(fmtChartJS(b,f[L],b.fmtYLabel)).width;widestYLabel=M>widestYLabel?M:widestYLabel}}if(H=l+b.spaceLeft,I=l+b.spaceRight,i&&("undefined"!=typeof b.yAxisLabel&&""!=b.yAxisLabel.trim()&&(m=b.yAxisFontSize+b.yAxisLabelSpaceLeft+b.yAxisLabelSpaceRight,yAxisLabelPosLeft=l+b.spaceLeft+b.yAxisLabelSpaceLeft+b.yAxisFontSize,yAxisLabelPosRight=e-l-b.spaceRight-b.yAxisLabelSpaceLeft-b.yAxisFontSize),b.yAxisLeft&&(H=0==h?l+b.spaceLeft+m+widestYLabel+b.yAxisSpaceLeft+b.yAxisSpaceRight:l+b.spaceLeft+m+G+b.yAxisSpaceLeft+b.yAxisSpaceRight),b.yAxisRight&&(I=0==h?l+b.spaceRight+m+widestYLabel+b.yAxisSpaceLeft+b.yAxisSpaceRight:l+b.spaceRight+m+G+b.yAxisSpaceLeft+b.yAxisSpaceRight)),availableWidth=e-H-I,""!=b.graphTitle.trim()&&(n=b.graphTitleFontSize+b.graphTitleSpaceBefore+b.graphTitleSpaceAfter,o=l+b.spaceTop+n-b.graphTitleSpaceAfter),""!=b.graphSubTitle.trim()&&(p=b.graphSubTitleFontSize+b.graphSubTitleSpaceBefore+b.graphSubTitleSpaceAfter,q=l+b.spaceTop+n+p-b.graphSubTitleSpaceAfter),i&&"undefined"!=typeof b.yAxisUnit&&""!=b.yAxisUnit.trim()&&(t=b.yAxisUnitFontSize+b.yAxisUnitSpaceBefore+b.yAxisUnitSpaceAfter,u=l+b.spaceTop+n+p+t-b.yAxisUnitSpaceAfter),topNotUsableSize=l+b.spaceTop+n+p+t+b.graphSpaceBefore,"undefined"!=typeof b.footNote&&""!=b.footNote.trim()&&(r=b.footNoteFontSize+b.footNoteSpaceBefore+b.footNoteSpaceAfter,s=d-b.spaceBottom-l-b.footNoteSpaceAfter),"undefined"!=typeof b.legend&&1==b.legend){if(c.font=b.legendFontStyle+" "+b.legendFontSize+"px "+b.legendFontFamily,j){for(var L=a.datasets.length-1;L>=0;L--)if("string"==typeof a.datasets[L].title&&""!=a.datasets[L].title.trim()){w++;var M=c.measureText(fmtChartJS(b,a.datasets[L].title,b.fmtLegend)).width;v=M>v?M:v}}else for(var L=a.length-1;L>=0;L--)if("string"==typeof a[L].title&&""!=a[L].title.trim()){w++;var M=c.measureText(fmtChartJS(b,a[L].title,b.fmtLegend)).width;v=M>v?M:v}w>1&&(v+=b.legendBlockSize+b.legendSpaceBetweenBoxAndText,availableLegendWidth=e-b.spaceLeft-b.spaceRight-2*l-b.legendSpaceLeftText-b.legendSpaceRightText,1==b.legendBorders&&(availableLegendWidth-=2*b.legendBordersWidth-b.legendBordersSpaceLeft-b.legendBordersSpaceRight),maxLegendOnLine=Math.floor((availableLegendWidth+b.legendSpaceBetweenTextHorizontal)/(v+b.legendSpaceBetweenTextHorizontal)),x=Math.ceil(w/maxLegendOnLine),y=Math.ceil(w/x),z=x*(b.legendFontSize+b.legendSpaceBetweenTextVertical)-b.legendSpaceBetweenTextVertical+b.legendSpaceBeforeText+b.legendSpaceAfterText,B=d-l-b.spaceBottom-r-z+b.legendSpaceBeforeText+b.legendFontSize,A=b.spaceLeft+(e-b.spaceLeft-b.spaceRight-y*(v+b.legendSpaceBetweenTextHorizontal)+b.legendSpaceBetweenTextHorizontal)/2,1==b.legendBorders&&(z+=2*b.legendBordersWidth+b.legendBordersSpaceBefore+b.legendBordersSpaceAfter,B-=b.legendBordersWidth+b.legendBordersSpaceAfter,D=Math.floor(d-l-b.spaceBottom-r-z+b.legendBordersWidth/2+b.legendBordersSpaceBefore),C=Math.floor(A-b.legendSpaceLeftText-b.legendBordersWidth/2),legendBorderHeight=Math.ceil(z-b.legendBordersWidth)-b.legendBordersSpaceBefore-b.legendBordersSpaceAfter,legendBorderWidth=Math.ceil(y*(v+b.legendSpaceBetweenTextHorizontal))-b.legendSpaceBetweenTextHorizontal+b.legendBordersWidth+b.legendSpaceRightText+b.legendSpaceLeftText))}if(i&&"undefined"!=typeof b.xAxisLabel&&""!=b.xAxisLabel.trim()&&(E=b.xAxisFontSize+b.xAxisLabelSpaceBefore+b.xAxisLabelSpaceAfter,xAxisLabelPos=d-l-b.spaceBottom-r-z-b.xAxisLabelSpaceAfter),xLabelWidth=0,i&&(b.xAxisBottom||b.xAxisTop)&&(0==h?(widestLabel=G,nblab=a.labels.length):(widestLabel=widestYLabel,nblab=f.length),"smart"==b.rotateLabels?(J=0,(availableWidth+b.xAxisSpaceBetweenLabels)/nblab<widestLabel+b.xAxisSpaceBetweenLabels&&(J=45,availableWidth/nblab<Math.abs(Math.cos(J*Math.PI/180)*widestLabel)&&(J=90))):(J=b.rotateLabels,0>J&&(J=0),J>180&&(J=180)),J>90&&(J+=180),F=Math.abs(Math.sin(J*Math.PI/180)*widestLabel)+Math.abs(Math.sin((J+90)*Math.PI/180)*b.scaleFontSize)+b.xAxisSpaceBefore+b.xAxisSpaceAfter,K=d-l-b.spaceBottom-r-z-E-(F-b.xAxisSpaceBefore)-b.graphSpaceAfter,xLabelWidth=Math.abs(Math.cos(J*Math.PI/180)*widestLabel)+Math.abs(Math.cos((J+90)*Math.PI/180)*b.scaleFontSize),H=Max([H,l+b.spaceLeft+xLabelWidth/2]),I=Max([I,l+b.spaceRight+xLabelWidth/2]),availableWidth=e-H-I),b.xAxisBottom?(bottomNotUsableHeightWithoutXLabels=l+b.spaceBottom+r+z+E,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+F+b.graphSpaceAfter,availableHeight=d-topNotUsableSize-bottomNotUsableHeightWithXLabels):(bottomNotUsableHeightWithoutXLabels=l+b.spaceBottom+r+z+E,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+b.graphSpaceAfter,availableHeight=d-topNotUsableSize-bottomNotUsableHeightWithXLabels),l>0&&(c.save(),c.beginPath(),c.lineWidth=2*l,c.strokeStyle=b.canvasBordersColor,c.moveTo(0,0),c.lineTo(0,d),c.lineTo(e,d),c.lineTo(e,0),c.lineTo(0,0),c.stroke(),c.restore()),n>0&&(c.save(),c.beginPath(),c.font=b.graphTitleFontStyle+" "+b.graphTitleFontSize+"px "+b.graphTitleFontFamily,c.fillStyle=b.graphTitleFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(b.spaceLeft+(e-b.spaceLeft-b.spaceRight)/2,o),c.fillText(b.graphTitle,0,0),c.stroke(),c.restore()),p>0&&(c.save(),c.beginPath(),c.font=b.graphSubTitleFontStyle+" "+b.graphSubTitleFontSize+"px "+b.graphSubTitleFontFamily,c.fillStyle=b.graphSubTitleFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(b.spaceLeft+(e-b.spaceLeft-b.spaceRight)/2,q),c.fillText(b.graphSubTitle,0,0),c.stroke(),c.restore()),t>0&&(b.yAxisLeft&&(c.save(),c.beginPath(),c.font=b.yAxisUnitFontStyle+" "+b.yAxisUnitFontSize+"px "+b.yAxisUnitFontFamily,c.fillStyle=b.yAxisUnitFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(H,u),c.fillText(b.yAxisUnit,0,0),c.stroke(),c.restore()),b.yAxisRight&&(c.save(),c.beginPath(),c.font=b.yAxisUnitFontStyle+" "+b.yAxisUnitFontSize+"px "+b.yAxisUnitFontFamily,c.fillStyle=b.yAxisUnitFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(e-I,u),c.fillText(b.yAxisUnit,0,0),c.stroke(),c.restore())),m>0&&(b.yAxisLeft&&(c.save(),c.beginPath(),c.font=b.yAxisFontStyle+" "+b.yAxisFontSize+"px "+b.yAxisFontFamily,c.fillStyle=b.yAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(yAxisLabelPosLeft,topNotUsableSize+availableHeight/2),c.rotate(-(90*(Math.PI/180))),c.fillText(b.yAxisLabel,0,0),c.stroke(),c.restore()),b.yAxisRight&&(c.save(),c.beginPath(),c.font=b.yAxisFontStyle+" "+b.yAxisFontSize+"px "+b.yAxisFontFamily,c.fillStyle=b.yAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(yAxisLabelPosRight,topNotUsableSize+availableHeight/2),c.rotate(+(90*(Math.PI/180))),c.fillText(b.yAxisLabel,0,0),c.stroke(),c.restore())),E>0&&b.xAxisBottom&&(c.save(),c.beginPath(),c.font=b.xAxisFontStyle+" "+b.xAxisFontSize+"px "+b.xAxisFontFamily,c.fillStyle=b.xAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(H+availableWidth/2,xAxisLabelPos),c.fillText(b.xAxisLabel,0,0),c.stroke(),c.restore()),w>1){1==b.legendBorders&&(c.save(),c.beginPath(),c.lineWidth=b.legendBordersWidth,c.strokeStyle=b.legendBordersColors,c.moveTo(C,D),c.lineTo(C,D+legendBorderHeight),c.lineTo(C+legendBorderWidth,D+legendBorderHeight),c.lineTo(C+legendBorderWidth,D),c.lineTo(C,D),c.lineTo(C+legendBorderWidth,D),c.lineTo(C,D),c.lineTo(C,D+legendBorderHeight),c.stroke(),c.restore()),nbcols=y-1,ypos=B-(b.legendFontSize+b.legendSpaceBetweenTextVertical),xpos=0,fromi=j?a.datasets.length:a.length;for(var L=fromi-1;L>=0;L--)orderi=L,g&&(orderi=j?a.datasets.length-L-1:a.length-L-1),tpof=j?typeof a.datasets[orderi].title:typeof a[orderi].title,"string"==tpof&&(lgtxt=j?fmtChartJS(b,a.datasets[orderi].title,b.fmtLegend).trim():fmtChartJS(b,a[orderi].title,b.fmtLegend).trim(),""!=lgtxt&&(nbcols++,nbcols==y?(nbcols=0,xpos=A,ypos+=b.legendFontSize+b.legendSpaceBetweenTextVertical):xpos+=v+b.legendSpaceBetweenTextHorizontal,c.save(),c.beginPath(),c.strokeStyle=j?"string"==typeof a.datasets[orderi].strokeColor?a.datasets[orderi].strokeColor:b.defaultStrokeColor:"string"==typeof a[orderi].color?a[orderi].color:b.defaultStrokeColor,k?(c.lineWidth=1,c.moveTo(xpos,ypos),c.lineTo(xpos+b.legendBlockSize,ypos),c.lineTo(xpos+b.legendBlockSize,ypos-b.legendFontSize),c.lineTo(xpos,ypos-b.legendFontSize),c.lineTo(xpos,ypos),c.closePath(),c.fillStyle=j?"string"==typeof a.datasets[orderi].fillColor?a.datasets[orderi].fillColor:b.defaultFillColor:"string"==typeof a[orderi].color?a[orderi].color:b.defaultFillColor,c.fill()):(c.lineWidth=b.datasetStrokeWidth,c.moveTo(xpos+2,ypos-b.legendFontSize/2),c.lineTo(xpos+2+b.legendBlockSize,ypos-b.legendFontSize/2)),c.stroke(),c.restore(),c.save(),c.beginPath(),c.font=b.legendFontStyle+" "+b.legendFontSize+"px "+b.legendFontFamily,c.fillStyle=b.legendFontColor,c.textAlign="left",c.textBaseline="bottom",c.translate(xpos+b.legendBlockSize+b.legendSpaceBetweenBoxAndText,ypos),c.fillText(lgtxt,0,0),c.stroke(),c.restore()))}return""!=b.footNote.trim()&&(c.save(),c.font=b.footNoteFontStyle+" "+b.footNoteFontSize+"px "+b.footNoteFontFamily,c.fillStyle=b.footNoteFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(H+availableWidth/2,s),c.fillText(b.footNote,0,0),c.stroke(),c.restore()),clrx=H,clrwidth=availableWidth,clry=topNotUsableSize,clrheight=availableHeight,{leftNotUsableSize:H,rightNotUsableSize:I,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:G,rotateLabels:J,xLabelPos:K,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight}}function log10(a){return Math.log(a)/Math.LN10}function setRect(a,b){b.clearRect?(clear(a),a.clearRect(0,0,width,height)):(clear(a),a.clearRect(0,0,width,height),a.fillStyle=b.savePngBackgroundColor,a.strokeStyle=b.savePngBackgroundColor,a.beginPath(),a.moveTo(0,0),a.lineTo(0,a.canvas.height),a.lineTo(a.canvas.width,a.canvas.height),a.lineTo(a.canvas.width,0),a.lineTo(0,0),a.stroke(),a.fill())}function defMouse(a,b,c,d){1==c.annotateDisplay&&(0==cursorDivCreated&&(oCursor=new makeCursorObj("divCursor")),isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+c.annotateFunction.split(" ")[0],function(b){("left"==c.annotateFunction.split(" ")[1]&&1==b.which||"middle"==c.annotateFunction.split(" ")[1]&&2==b.which||"right"==c.annotateFunction.split(" ")[1]&&3==b.which||"string"!=typeof c.annotateFunction.split(" ")[1])&&doMouseMove(a,c,b)}):a.canvas.addEventListener(c.annotateFunction.split(" ")[0],function(b){("left"==c.annotateFunction.split(" ")[1]&&1==b.which||"middle"==c.annotateFunction.split(" ")[1]&&2==b.which||"right"==c.annotateFunction.split(" ")[1]&&3==b.which||"string"!=typeof c.annotateFunction.split(" ")[1])&&doMouseMove(a,c,b)},!1)),c.savePng&&(isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+c.savePngFunction.split(" ")[0],function(e){("left"==c.savePngFunction.split(" ")[1]&&1==e.which||"middle"==c.savePngFunction.split(" ")[1]&&2==e.which||"right"==c.savePngFunction.split(" ")[1]&&3==e.which||"string"!=typeof c.savePngFunction.split(" ")[1])&&saveCanvas(a,b,c,d)}):a.canvas.addEventListener(c.savePngFunction.split(" ")[0],function(e){("left"==c.savePngFunction.split(" ")[1]&&1==e.which||"middle"==c.savePngFunction.split(" ")[1]&&2==e.which||"right"==c.savePngFunction.split(" ")[1]&&3==e.which||"string"!=typeof c.savePngFunction.split(" ")[1])&&saveCanvas(a,b,c,d)
},!1))}var charJSPersonnalDefaultOptions={},charJSPersonnalDefaultOptionsLine={},charJSPersonnalDefaultOptionsRadar={},charJSPersonnalDefaultOptionsPolarArea={},charJSPersonnalDefaultOptionsPie={},charJSPersonnalDefaultOptionsDoughnut={},charJSPersonnalDefaultOptionsBar={},charJSPersonnalDefaultOptionsStackedBar={},charJSPersonnalDefaultOptionsHorizontalBar={},charJSPersonnalDefaultOptionsHorizontalStackedBar={},cachebis={};cursorDivCreated=!1,bw=new checkBrowser,fromLeft=10,fromTop=10,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var dynamicDisplay=new Array,dynamicDisplayList=new Array,jsGraphAnnotate=new Array,chart=this,animationOptions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*a)*Math.sin(2*(1*a-b)*Math.PI/c)+1},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(2==(a/=.5))return 1;if(c||(c=.3*1.5),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return 1>a?-.5*d*Math.pow(2,10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c):d*Math.pow(2,-10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c)*.5+1},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-animationOptions.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return.5>a?.5*animationOptions.easeInBounce(2*a):.5*animationOptions.easeOutBounce(2*a-1)+.5}},width=context.canvas.width,height=context.canvas.height;window.devicePixelRatio&&(context.canvas.style.width=width+"px",context.canvas.style.height=height+"px",context.canvas.height=height*window.devicePixelRatio,context.canvas.width=width*window.devicePixelRatio,context.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(a,b){chart.PolarArea.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90},chart.PolarArea.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.PolarArea.defaults),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonnalDefaultOptions),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonnalDefaultOptionsPolarArea);var c=b?mergeChartConfig(chart.PolarArea.defaults,b):chart.PolarArea.defaults;return new PolarArea(a,c,context)},this.Radar=function(a,b){chart.Radar.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetFill:!0,datasetStrokeWidth:2,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",startAngle:90,graphMaximized:!1},chart.Radar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Radar.defaults),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonnalDefaultOptions),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonnalDefaultOptionsRadar);var c=b?mergeChartConfig(chart.Radar.defaults,b):chart.Radar.defaults;return new Radar(a,c,context)},this.Pie=function(a,b){chart.Pie.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1},chart.Pie.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Pie.defaults),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonnalDefaultOptions),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonnalDefaultOptionsPie);var c=b?mergeChartConfig(chart.Pie.defaults,b):chart.Pie.defaults;return new Pie(a,c,context)},this.Doughnut=function(a,b){chart.Doughnut.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1},chart.Doughnut.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Doughnut.defaults),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonnalDefaultOptions),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonnalDefaultOptionsDoughnut);var c=b?mergeChartConfig(chart.Doughnut.defaults,b):chart.Doughnut.defaults;return new Doughnut(a,c,context)},this.Line=function(a,b){chart.Line.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>"},chart.Line.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonnalDefaultOptions),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonnalDefaultOptionsLine);var c=b?mergeChartConfig(chart.Line.defaults,b):chart.Line.defaults;return new Line(a,c,context)},this.StackedBar=function(a,b){chart.StackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},chart.StackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonnalDefaultOptions),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonnalDefaultOptionsStackedBar);var c=b?mergeChartConfig(chart.StackedBar.defaults,b):chart.StackedBar.defaults;return new StackedBar(a,c,context)},this.HorizontalStackedBar=function(a,b){chart.HorizontalStackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptions),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptionsHorizontalStackedBar);var c=b?mergeChartConfig(chart.HorizontalStackedBar.defaults,b):chart.HorizontalStackedBar.defaults;return new HorizontalStackedBar(a,c,context)},this.Bar=function(a,b){chart.Bar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},chart.Bar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonnalDefaultOptions),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonnalDefaultOptionsBar);var c=b?mergeChartConfig(chart.Bar.defaults,b):chart.Bar.defaults;return new Bar(a,c,context)},this.HorizontalBar=function(a,b){chart.HorizontalBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonnalDefaultOptions),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonnalDefaultOptionsHorizontalBar);var c=b?mergeChartConfig(chart.HorizontalBar.defaults,b):chart.HorizontalBar.defaults;return new HorizontalBar(a,c,context)},chart.defaults={},chart.defaults.commonOptions={clearRect:!0,dynamicDisplay:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersColor:"black",graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,legend:!1,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!0,legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,annotateDisplay:!1,savePng:!1,savePngOuput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:12,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV7:"none",fmtV8:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtLegend:"none",animationStartValue:0,animationStopValue:1,animationCount:1,animationPauseTime:5,animationBackward:!1,defaultStrokeColor:"rgba(220,220,220,1)",defaultFillColor:"rgba(220,220,220,0.5)"},chart.defaults.xyAxisCommonOptions={yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,yAxisLabel:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,yAxisUnit:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5};var clear=function(a){a.clearRect(0,0,width,height)},PolarArea=function(a,b,c){function d(d){var e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0,i=0,j=1,k=1;i=0;for(var l=0;l<a.length;l++)"undefined"!=typeof a[l].value&&i++;for(i=2*Math.PI/i;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(b.animation&&(b.animateScale&&(j=d),b.animateRotate&&(k=d)),d>=1){totvalue=0;for(var l=0;l<a.length;l++)"undefined"!=typeof a[l].value&&(totvalue+=1*a[l].value)}for(var l=0;l<a.length;l++)"undefined"!=typeof a[l].value&&(c.beginPath(),c.arc(n,o,j*calculateOffset(b,1*a[l].value,h,g),e,e+k*i,!1),c.lineTo(n,o),c.closePath(),c.fillStyle=a[l].color,c.fill(),e+=i,b.segmentShowStroke&&(c.strokeStyle=b.segmentStrokeColor,c.lineWidth=b.segmentStrokeWidth,c.stroke()));if(d>=1){e=-b.startAngle*(Math.PI/180)+2*Math.PI;for(var l=0;l<a.length;l++)if("undefined"!=typeof a[l].value&&(f+=1*a[l].value,e+=i,lgtxt="string"==typeof a[l].title?a[l].title.trim():"",jsGraphAnnotate[c.ChartNewId][s++]=["ARC",n,o,0,calculateOffset(b,1*a[l].value,h,g),e-i,e,lgtxt,1*a[l].value,f,totvalue,i,l],b.inGraphDataShow)){1==b.inGraphDataAnglePosition?posAngle=r+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?posAngle=r-i/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(posAngle=r-i+b.inGraphDataPaddingAngle*(Math.PI/180)),1==b.inGraphDataRadiusPosition?labelRadius=0+b.inGraphDataPaddingRadius:2==b.inGraphDataRadiusPosition?labelRadius=calculateOffset(b,1*a[l].value,h,g)/2+b.inGraphDataPaddingRadius:3==b.inGraphDataRadiusPosition?labelRadius=calculateOffset(b,1*a[l].value,h,g)+b.inGraphDataPaddingRadius:4==b.inGraphDataRadiusPosition&&(labelRadius=g*h.steps+b.inGraphDataPaddingRadius),c.save(),c.textAlign="off-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":b.inGraphDataAlign,c.textBaseline="off-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var m=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,1*a[l].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,totvalue,b.fmtV4),v5:fmtChartJS(b,i,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[l].value/totvalue,b.fmtV6),b.roundPct),v7:fmtChartJS(b,n,b.fmtV7),v8:fmtChartJS(b,o,b.fmtV8),v9:fmtChartJS(b,0,b.fmtV9),v10:fmtChartJS(b,calculateOffset(b,1*a[l].value,h,g),b.fmtV10),v11:fmtChartJS(b,e-i,b.fmtV11),v12:fmtChartJS(b,i,b.fmtV12),v13:fmtChartJS(b,l,b.fmtV13)});c.translate(n+labelRadius*Math.cos(posAngle),o-labelRadius*Math.sin(posAngle)),c.rotate("inRadiusAxis"==b.inGraphDataRotate?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==b.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:b.inGraphDataRotate*(Math.PI/180)),c.fillText(m,0,0),c.restore(),r-=i}}}function e(){for(var a=0;a<h.steps;a++)if(b.scaleShowLine&&(c.beginPath(),c.arc(n,o,g*(a+1),0,2*Math.PI,!0),c.strokeStyle=b.scaleLineColor,c.lineWidth=b.scaleLineWidth,c.stroke()),b.scaleShowLabels){c.textAlign="center",c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;var d=h.labels[a+1];if(b.scaleShowLabelBackdrop){var e=c.measureText(d).width;c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(n-e/2-b.scaleBackdropPaddingX),Math.round(o-g*(a+1)-.5*b.scaleFontSize-b.scaleBackdropPaddingY),Math.round(e+2*b.scaleBackdropPaddingX),Math.round(b.scaleFontSize+2*b.scaleBackdropPaddingY)),c.fill()}c.textBaseline="middle",c.fillStyle=b.scaleFontColor,c.fillText(d,n,o-g*(a+1))}}function f(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<a.length;e++)1*a[e].value>c&&(c=1*a[e].value),1*a[e].value<d&&(d=1*a[e].value);Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0),isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax);var f=Math.floor(j/(.66*i)),g=Math.floor(j/i*.5);return{maxValue:c,minValue:d,maxSteps:f,minSteps:g}}var g,h,i,j,k,l,m,n,o;if(void 0==typeof c.ChartNewId){var p=new Date,q=p.getTime();c.ChartNewId="PolarArea_"+q}if(dynamicFunction(a,b,c,"PolarArea")){for(var r=b.startAngle*(Math.PI/180)+2*Math.PI;b.startAngle<0;)b.startAngle+=360;for(;b.startAngle>360;)b.startAngle-=360;for(;0>r;)r+=2*Math.PI;for(;r>2*Math.PI;)r-=2*Math.PI;b.logarithmic=!1;var s=0;jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"PolarArea"),setRect(c,b),k=f(),l=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(h={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,graphMax:b.scaleStartValue+b.scaleSteps*b.scaleStepWidth,labels:[]},populateLabels(b,l,h.labels,h.steps,b.scaleStartValue,h.graphMax,b.scaleStepWidth),m=setMeasures(a,b,c,height,width,h.labels,!0,!1,!1,!1,!0)):(h=calculateScale(b,k.maxSteps,k.minSteps,k.maxValue,k.minValue,l),m=setMeasures(a,b,c,height,width,h.labels,!0,!1,!1,!1,!0)),n=m.leftNotUsableSize+m.availableWidth/2,o=m.topNotUsableSize+m.availableHeight/2,g=Math.floor((Min([m.availableHeight,m.availableWidth])/2-5)/h.steps),animationLoop(b,e,d,c,m.clrx,m.clry,m.clrwidth,m.clrheight,n,o,n-(Min([m.availableHeight,m.availableWidth])/2-5),o+(Min([m.availableHeight,m.availableWidth])/2-5),a)}},Radar=function(a,b,c){function d(d){for(var e=new Array,f=new Array,g=0;g<a.datasets.length;g++)for(var h=0;h<a.datasets[g].data.length;h++)e[h]=0,f[h]=-999999999;for(var g=0;g<a.datasets.length;g++)for(var h=0;h<a.datasets[g].data.length;h++)"undefined"!=typeof a.datasets[g].data[h]&&(e[h]+=1*a.datasets[g].data[h],f[h]=Max([f[h],1*a.datasets[g].data[h]]));var k=2*Math.PI/a.datasets[0].data.length;c.save();for(var g=0;g<a.datasets.length;g++){d>=1&&(lgtxt="string"==typeof a.datasets[g].title?a.datasets[g].title.trim():"");for(var l=-1,h=0;h<a.datasets[g].data.length;h++)"undefined"!=typeof a.datasets[g].data[h]&&(-1==l?(c.beginPath(),c.moveTo(p+d*Math.cos(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i),q-d*Math.sin(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i)),l=h):c.lineTo(p+d*Math.cos(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i),q-d*Math.sin(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i)),d>=1&&(divprev=0==g?0:a.datasets[g].data[h]-a.datasets[g-1].data[h],divnext=g==a.datasets.length-1?0:a.datasets[g+1].data[h]-a.datasets[g].data[h],lgtxt2="string"==typeof a.labels[h]?a.labels[h].trim():"",jsGraphAnnotate[c.ChartNewId][t++]=["POINT",p+Math.cos(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i),q-Math.sin(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i),lgtxt,lgtxt2,1*a.datasets[g].data[h],divprev,divnext,f[h],e[h],g,h]));if(c.closePath(),c.fillStyle=b.datasetFill?"string"==typeof a.datasets[g].fillColor?a.datasets[g].fillColor:b.defaultFillColor:"rgba(0,0,0,0)",c.strokeStyle="string"==typeof a.datasets[g].strokeColor?a.datasets[g].strokeColor:b.defaultStrokeColor,c.lineWidth=b.datasetStrokeWidth,c.fill(),c.stroke(),b.pointDot){c.beginPath(),c.fillStyle=a.datasets[g].pointColor,c.strokeStyle=a.datasets[g].pointStrokeColor,c.lineWidth=b.pointDotStrokeWidth;for(var m=0;m<a.datasets[g].data.length;m++)"undefined"!=typeof a.datasets[g].data[m]&&(c.beginPath(),c.arc(p+d*Math.cos(b.startAngle*Math.PI/180-m*k)*calculateOffset(b,a.datasets[g].data[m],j,i),q-d*Math.sin(b.startAngle*Math.PI/180-m*k)*calculateOffset(b,a.datasets[g].data[m],j,i),b.pointDotRadius,2*Math.PI,!1),c.fill(),c.stroke())}}if(c.restore(),d>=1&&b.inGraphDataShow)for(var g=0;g<a.datasets.length;g++){lgtxt="string"==typeof a.datasets[g].title?a.datasets[g].title.trim():"";for(var h=0;h<a.datasets[g].data.length;h++)if("undefined"!=typeof a.datasets[g].data[h]){divprev=0==g?0:a.datasets[g].data[h]-a.datasets[g-1].data[h],divnext=g==a.datasets.length-1?0:a.datasets[g+1].data[h]-a.datasets[g].data[h],lgtxt2="string"==typeof a.labels[h]?a.labels[h].trim():"",c.save(),c.textAlign=b.inGraphDataAlign,c.textBaseline=b.inGraphDataVAlign,c.textAlign="off-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(h*k+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(h*k+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(h*k+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(h*k+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":b.inGraphDataAlign,c.textBaseline="off-center"==b.inGraphDataVAlign?(h*k+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":"to-center"==b.inGraphDataVAlign?(h*k+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var n;1==b.inGraphDataRadiusPosition?n=0+b.inGraphDataPaddingRadius:2==b.inGraphDataRadiusPosition?n=calculateOffset(b,a.datasets[g].data[h],j,i)/2+b.inGraphDataPaddingRadius:3==b.inGraphDataRadiusPosition&&(n=calculateOffset(b,a.datasets[g].data[h],j,i)+b.inGraphDataPaddingRadius),c.translate(p+Math.cos(b.startAngle*Math.PI/180-h*k)*n,q-Math.sin(b.startAngle*Math.PI/180-h*k)*n),c.rotate("inRadiusAxis"==b.inGraphDataRotate?h*k:"inRadiusAxisRotateLabels"==b.inGraphDataRotate?(h*k+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(h*k+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI+h*k:2*Math.PI+h*k:b.inGraphDataRotate*(Math.PI/180));var o=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[g].data[h],b.fmtV3),v4:fmtChartJS(b,divprev,b.fmtV4),v5:fmtChartJS(b,divnext,b.fmtV5),v6:fmtChartJS(b,f[h],b.fmtV6),v7:fmtChartJS(b,e[h],b.fmtV7),v8:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[g].data[h]/e[h],b.fmtV8),b.roundPct),v9:fmtChartJS(b,p+Math.cos(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i),b.fmtV9),v10:fmtChartJS(b,q-Math.sin(b.startAngle*Math.PI/180-h*k)*calculateOffset(b,a.datasets[g].data[h],j,i),b.fmtV10),v11:fmtChartJS(b,g,b.fmtV11),v12:fmtChartJS(b,h,b.fmtV12)});c.fillText(o,0,0),c.restore()}}}function e(){var d=2*Math.PI/a.datasets[0].data.length;if(c.save(),c.translate(p,q),c.rotate((90-b.startAngle)*Math.PI/180),b.angleShowLineOut){c.strokeStyle=b.angleLineColor,c.lineWidth=b.angleLineWidth;for(var e=0;e<a.datasets[0].data.length;e++)c.rotate(d),c.beginPath(),c.moveTo(0,0),c.lineTo(0,-h),c.stroke()}for(var f=0;f<j.steps;f++)if(c.beginPath(),b.scaleShowLine){c.strokeStyle=b.scaleLineColor,c.lineWidth=b.scaleLineWidth,c.moveTo(0,-i*(f+1));for(var g=0;g<a.datasets[0].data.length;g++)c.rotate(d),c.lineTo(0,-i*(f+1));
c.closePath(),c.stroke()}if(c.rotate(-(90-b.startAngle)*Math.PI/180),b.scaleShowLabels)for(var f=0;f<j.steps;f++){if(c.textAlign="center",c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,c.textBaseline="middle",b.scaleShowLabelBackdrop){var k=c.measureText(j.labels[f+1]).width;c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(Math.cos(b.startAngle*Math.PI/180)*i*(f+1)-k/2-b.scaleBackdropPaddingX),Math.round(-Math.sin(b.startAngle*Math.PI/180)*i*(f+1)-.5*b.scaleFontSize-b.scaleBackdropPaddingY),Math.round(k+2*b.scaleBackdropPaddingX),Math.round(b.scaleFontSize+2*b.scaleBackdropPaddingY)),c.fill()}c.fillStyle=b.scaleFontColor,c.fillText(j.labels[f+1],Math.cos(b.startAngle*Math.PI/180)*i*(f+1),-Math.sin(b.startAngle*Math.PI/180)*i*(f+1))}for(var l=0;l<a.labels.length;l++){c.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,c.fillStyle=b.pointLabelFontColor;for(var m=Math.sin((90-b.startAngle)*Math.PI/180+d*l)*(h+b.pointLabelFontSize),n=Math.cos((90-b.startAngle)*Math.PI/180+d*l)*(h+b.pointLabelFontSize),o=(90-b.startAngle)*Math.PI/180+d*l;0>o;)o+=2*Math.PI;for(;o>2*Math.PI;)o-=2*Math.PI;c.textAlign=o==Math.PI||0==o?"center":o>Math.PI?"right":"left",c.textBaseline="middle",c.fillText(a.labels[l],m,-n)}c.restore()}function f(){var d,e,f,g,i,j,l,m,n=2*Math.PI/a.datasets[0].data.length,q=b.startAngle*Math.PI/180;if(c.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,b.graphMaximized){g=o.availableWidth/2,f=o.availableWidth/2,j=40;for(var r=0;r<a.labels.length;r++){var s=c.measureText(a.labels[r]).width+b.scaleFontSize;e=(o.availableWidth-s)/(1+Math.abs(Math.cos(q))),q<Math.PI/2&&q>-Math.PI/2||q>3*Math.PI/2?g>e&&(g=e):0!=Math.cos(q)&&f>e&&(f=e),q-=n}}else g=o.availableWidth/2,f=o.availableWidth/2,j=1;for(l=0,m=0,d=g,i=0;j>i;++i,d+=(o.availableWidth-f-g)/j){h=Max([d,o.availableWidth-d]);var q=b.startAngle*Math.PI/180;e=o.available;for(var r=0;r<a.labels.length;r++){var s=c.measureText(a.labels[r]).width+b.scaleFontSize;q<Math.PI/2&&q>-Math.PI/2||q>3*Math.PI/2?e=(o.availableWidth-d-s)/Math.abs(Math.cos(q)):Math.cos(0!=q)&&(e=(d-s)/Math.abs(Math.cos(q))),h>e&&(h=e),Math.sin(q)*o.availableHeight/2>o.availableHeight/2-2*b.scaleFontSize&&(e=Math.sin(q)*o.availableHeight/2-1.5*b.scaleFontSize,h>e&&(h=e)),q-=n}h>l&&(l=h,p=d)}h=l-b.scaleFontSize/2,k=Default(k,5)}function g(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++)1*a.datasets[e].data[f]>c&&(c=1*a.datasets[e].data[f]),1*a.datasets[e].data[f]<d&&(d=1*a.datasets[e].data[f]);Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0),isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax);var g=Math.floor(l/(.66*k)),h=Math.floor(l/k*.5);return{maxValue:c,minValue:d,maxSteps:g,minSteps:h}}var h,i,j,k,l,m,n,o,p,q;if("undefined"==typeof c.ChartNewId){var r=new Date,s=r.getTime();c.ChartNewId="Radar_"+s}if(dynamicFunction(a,b,c,"Radar")){for(;b.startAngle<0;)b.startAngle+=360;for(;b.startAngle>360;)b.startAngle-=360;b.logarithmic=!1;var t=0;jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"Radar"),a.labels||(a.labels=[]),setRect(c,b),m=g(),n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(j={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,graphMax:b.scaleStartValue+b.scaleSteps*b.scaleStepWidth,labels:[]},populateLabels(b,n,j.labels,j.steps,b.scaleStartValue,j.graphMax,b.scaleStepWidth),o=setMeasures(a,b,c,height,width,j.labels,!0,!1,!1,!0,b.datasetFill)):(j=calculateScale(b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),o=setMeasures(a,b,c,height,width,j.labels,!0,!1,!1,!0,b.datasetFill)),f(),q=o.topNotUsableSize+o.availableHeight/2,i=h/j.steps,animationLoop(b,e,d,c,o.clrx,o.clry,o.clrwidth,o.clrheight,p,q,p-h,q+h,a)}},Pie=function(a,b,c){function d(d){for(var e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0,k=1,l=1,n=b.startAngle*(Math.PI/180)+2*Math.PI;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;for(;0>n;)n+=2*Math.PI;for(;n>2*Math.PI;)n-=2*Math.PI;if(b.animation&&(b.animateScale&&(k=d),b.animateRotate&&(l=d)),d>=1){totvalue=0;for(var o=0;o<a.length;o++)"undefined"!=typeof a[o].value&&(totvalue+=1*a[o].value)}for(var o=0;o<a.length;o++)if("undefined"!=typeof a[o].value){var p=l*(1*a[o].value/j)*2*Math.PI;if(p>=2*Math.PI&&(p=2*Math.PI-.001),c.beginPath(),c.arc(g,h,k*i,e,e+p),c.lineTo(g,h),c.closePath(),c.fillStyle=a[o].color,c.fill(),e+=p,f+=1*a[o].value,b.segmentShowStroke&&(c.lineWidth=b.segmentStrokeWidth,c.strokeStyle=b.segmentStrokeColor,c.stroke()),d>=1&&(lgtxt="string"==typeof a[o].title?a[o].title.trim():"",jsGraphAnnotate[c.ChartNewId][m++]=["ARC",g,h,0,i,e-p,e,lgtxt,1*a[o].value,f,totvalue,p,o],b.inGraphDataShow)){1==b.inGraphDataAnglePosition?posAngle=n+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?posAngle=n-p/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(posAngle=n-p+b.inGraphDataPaddingAngle*(Math.PI/180)),1==b.inGraphDataRadiusPosition?labelRadius=0+b.inGraphDataPaddingRadius:2==b.inGraphDataRadiusPosition?labelRadius=i/2+b.inGraphDataPaddingRadius:3==b.inGraphDataRadiusPosition&&(labelRadius=i+b.inGraphDataPaddingRadius),n-=p,c.save(),c.textAlign="off-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":b.inGraphDataAlign,c.textBaseline="off-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var q=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,1*a[o].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,totvalue,b.fmtV4),v5:fmtChartJS(b,p,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[o].value/totvalue,b.fmtV6),b.roundPct),v7:fmtChartJS(b,g,b.fmtV7),v8:fmtChartJS(b,h,b.fmtV8),v9:fmtChartJS(b,0,b.fmtV9),v10:fmtChartJS(b,i,b.fmtV10),v11:fmtChartJS(b,e-p,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,o,b.fmtV13)});c.translate(g+labelRadius*Math.cos(posAngle),h-labelRadius*Math.sin(posAngle)),c.rotate("inRadiusAxis"==b.inGraphDataRotate?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==b.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:b.inGraphDataRotate*(Math.PI/180)),c.fillText(q,0,0),c.restore()}}}function e(){for(var d,e=-b.startAngle*(Math.PI/180)+2*Math.PI,k=0;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(g=f.leftNotUsableSize+f.availableWidth/2,h=f.topNotUsableSize+f.availableHeight/2,i=Min([f.availableHeight/2,f.availableWidth/2])-5,b.inGraphDataShow&&3==b.inGraphDataRadiusPosition&&"off-center"==b.inGraphDataAlign&&0==b.inGraphDataRotate){i=Min([f.availableHeight/2,f.availableWidth/2])-b.inGraphDataFontSize-b.inGraphDataPaddingRadius-5;for(var l=b.startAngle*(Math.PI/180)+2*Math.PI;0>l;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;for(var m=0,n=0;n<a.length;n++)"undefined"!=typeof a[n].value&&(m+=1*a[n].value);c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily;for(var o,k=0,n=0;n<a.length;n++)if("undefined"!=typeof a[n].value){k+=1*a[n].value;var p=1*a[n].value/j*2*Math.PI;e+=p,1==b.inGraphDataAnglePosition?o=l+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?o=l-p/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(o=l-p+b.inGraphDataPaddingAngle*(Math.PI/180)),l-=p,d="string"==typeof a[n].title?a[n].title.trim():"";var q=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,d,b.fmtV1),v2:fmtChartJS(b,1*a[n].value,b.fmtV2),v3:fmtChartJS(b,k,b.fmtV3),v4:fmtChartJS(b,m,b.fmtV4),v5:fmtChartJS(b,p,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[n].value/m,b.fmtV6),b.roundPct),v7:fmtChartJS(b,g,b.fmtV7),v8:fmtChartJS(b,h,b.fmtV8),v9:fmtChartJS(b,0,b.fmtV9),v10:fmtChartJS(b,i,b.fmtV10),v11:fmtChartJS(b,e-p,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,n,b.fmtV13)}),r=c.measureText(q).width,s=Math.abs((f.availableWidth/2-r)/Math.cos(o))-b.inGraphDataPaddingRadius-5;i>s&&(i=s)}}i*=b.radiusScale}var f,g,h,i,j=0;if("undefined"==typeof c.ChartNewId){var k=new Date,l=k.getTime();c.ChartNewId="Pie_"+l}if(dynamicFunction(a,b,c,"Pie")){for(;b.startAngle<0;)b.startAngle+=360;for(;b.startAngle>360;)b.startAngle-=360;b.logarithmic=!1;var m=0;jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"Pie"),setRect(c,b),f=setMeasures(a,b,c,height,width,null,!0,!1,!1,!1,!0);for(var n=0;n<a.length;n++)"undefined"!=typeof a[n].value&&(j+=1*a[n].value);e(),animationLoop(b,null,d,c,f.clrx,f.clry,f.clrwidth,f.clrheight,g,h,g-i,h+i,a)}},Doughnut=function(a,b,c){function d(d){for(var e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0,k=1,l=1;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(b.animation&&(b.animateScale&&(k=d),b.animateRotate&&(l=d)),d>=1){totvalue=0;for(var p=0;p<a.length;p++)"undefined"!=typeof a[p].value&&(totvalue+=1*a[p].value)}for(var p=0;p<a.length;p++)if("undefined"!=typeof a[p].value){var q=l*(1*a[p].value/j)*2*Math.PI;if(q>=2*Math.PI&&(q=2*Math.PI-.001),c.beginPath(),c.arc(g,h,k*i,e,e+q,!1),c.arc(g,h,k*o,e+q,e,!0),c.closePath(),c.fillStyle=a[p].color,c.fill(),e+=q,f+=1*a[p].value,b.segmentShowStroke&&(c.lineWidth=b.segmentStrokeWidth,c.strokeStyle=b.segmentStrokeColor,c.stroke()),d>=1&&(lgtxt="string"==typeof a[p].title?a[p].title.trim():"",jsGraphAnnotate[c.ChartNewId][n++]=["ARC",g,h,o,i,e-q,e,lgtxt,1*a[p].value,f,totvalue,q,p],b.inGraphDataShow)){1==b.inGraphDataAnglePosition?posAngle=m+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?posAngle=m-q/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(posAngle=m-q+b.inGraphDataPaddingAngle*(Math.PI/180)),1==b.inGraphDataRadiusPosition?labelRadius=o+b.inGraphDataPaddingRadius:2==b.inGraphDataRadiusPosition?labelRadius=o+(i-o)/2+b.inGraphDataPaddingRadius:3==b.inGraphDataRadiusPosition&&(labelRadius=i+b.inGraphDataPaddingRadius),m-=q,c.save(),c.textAlign="off-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":b.inGraphDataAlign,c.textBaseline="off-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var r=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,1*a[p].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,totvalue,b.fmtV4),v5:fmtChartJS(b,q,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[p].value/totvalue,b.fmtV6),b.roundPct),v7:fmtChartJS(b,g,b.fmtV7),v8:fmtChartJS(b,h,b.fmtV8),v9:fmtChartJS(b,o,b.fmtV9),v10:fmtChartJS(b,i,b.fmtV10),v11:fmtChartJS(b,e-q,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,p,b.fmtV13)});c.translate(g+labelRadius*Math.cos(posAngle),h-labelRadius*Math.sin(posAngle)),c.rotate("inRadiusAxis"==b.inGraphDataRotate?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==b.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:b.inGraphDataRotate*(Math.PI/180)),c.fillText(r,0,0),c.restore()}}}function e(){for(var d,e=-b.startAngle*(Math.PI/180)+2*Math.PI,k=0;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(g=f.leftNotUsableSize+f.availableWidth/2,h=f.topNotUsableSize+f.availableHeight/2,i=Min([f.availableHeight/2,f.availableWidth/2])-5,b.inGraphDataShow&&3==b.inGraphDataRadiusPosition&&"off-center"==b.inGraphDataAlign&&0==b.inGraphDataRotate){i=Min([f.availableHeight/2,f.availableWidth/2])-b.inGraphDataFontSize-b.inGraphDataPaddingRadius-5;for(var l=b.startAngle*(Math.PI/180)+2*Math.PI;0>l;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;for(var m=0,n=0;n<a.length;n++)"undefined"!=typeof a[n].value&&(m+=1*a[n].value);c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily;for(var p,e=0,n=0;n<a.length;n++)if("undefined"!=typeof a[n].value){k+=1*a[n].value;var q=1*a[n].value/j*2*Math.PI;e+=q,1==b.inGraphDataAnglePosition?p=l+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?p=l-q/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(p=l-q+b.inGraphDataPaddingAngle*(Math.PI/180)),l-=q,d="string"==typeof a[n].title?a[n].title.trim():"";var r=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,d,b.fmtV1),v2:fmtChartJS(b,1*a[n].value,b.fmtV2),v3:fmtChartJS(b,k,b.fmtV3),v4:fmtChartJS(b,m,b.fmtV4),v5:fmtChartJS(b,q,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[n].value/m,b.fmtV6),b.roundPct),v7:fmtChartJS(b,g,b.fmtV7),v8:fmtChartJS(b,h,b.fmtV8),v9:fmtChartJS(b,o,b.fmtV9),v10:fmtChartJS(b,i,b.fmtV10),v11:fmtChartJS(b,e-q,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,n,b.fmtV13)}),s=c.measureText(r).width,t=Math.abs((f.availableWidth/2-s)/Math.cos(p))-b.inGraphDataPaddingRadius-5;i>t&&(i=t)}}i*=b.radiusScale}var f,g,h,i,j=0;if("undefined"==typeof c.ChartNewId){var k=new Date,l=k.getTime();c.ChartNewId="Doughnut_"+l}if(dynamicFunction(a,b,c,"Doughnut")){for(var m=b.startAngle*(Math.PI/180)+2*Math.PI;b.startAngle<0;)b.startAngle+=360;for(;b.startAngle>360;)b.startAngle-=360;for(;0>m;)m+=2*Math.PI;for(;m>2*Math.PI;)m-=2*Math.PI;b.logarithmic=!1;var n=0;jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"Doughnut"),setRect(c,b),f=setMeasures(a,b,c,height,width,null,!0,!1,!1,!1,!0),e();for(var o=i*(b.percentageInnerCutout/100),p=0;p<a.length;p++)"undefined"!=typeof a[p].value&&(j+=1*a[p].value);animationLoop(b,null,d,c,f.clrx,f.clry,f.clrwidth,f.clrheight,g,h,g-i,h+i,a)}},Line=function(a,b,c){function d(d){function e(c,e){return p-d*calculateOffset(b,a.datasets[c].data[e],i,h)}function f(a){return o+n*a}for(var g=new Array,j=new Array,k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)g[l]=0,j[l]=-999999999;for(var k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)g[l]+=a.datasets[k].data[l],j[l]=Max([j[l],a.datasets[k].data[l]]);for(var k=0;k<a.datasets.length;k++){var m=-1,q=-1;d>=1&&(lgtxt="string"==typeof a.datasets[k].title?a.datasets[k].title.trim():""),c.strokeStyle="string"==typeof a.datasets[k].strokeColor?a.datasets[k].strokeColor:b.defaultStrokeColor,c.lineWidth=b.datasetStrokeWidth,c.beginPath();for(var l=0;l<a.datasets[k].data.length;l++)if("undefined"!=typeof a.datasets[k].data[l]&&(-1==m?(c.moveTo(f(l),e(k,l)),q=l):b.bezierCurve?c.bezierCurveTo(f(l-(l-m)/2),e(k,m),f(l-(l-m)/2),e(k,l),f(l),e(k,l)):c.lineTo(f(l),e(k,l)),m=l,d>=1&&(divprev=0==k?a.datasets[k].data[l]:a.datasets[k].data[l]-a.datasets[k-1].data[l],divnext=k==a.datasets.length-1?a.datasets[k].data[l]:a.datasets[k].data[l]-a.datasets[k+1].data[l],lgtxt2="string"==typeof a.labels[l]?a.labels[l].trim():"",jsGraphAnnotate[c.ChartNewId][r++]=["POINT",f(l),e(k,l),lgtxt,lgtxt2,1*a.datasets[k].data[l],divprev,divnext,j[l],g[l],k,l],b.inGraphDataShow))){c.save(),c.textAlign=b.inGraphDataAlign,c.textBaseline=b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var s=(p-d*calculateOffset(b,a.datasets[k].data[l],i,h),b.inGraphDataPaddingX),t=b.inGraphDataPaddingY,u=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[k].data[l],b.fmtV3),v4:fmtChartJS(b,divprev,b.fmtV4),v5:fmtChartJS(b,divnext,b.fmtV5),v6:fmtChartJS(b,j[l],b.fmtV6),v7:fmtChartJS(b,g[l],b.fmtV7),v8:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[k].data[l]/g[l],b.fmtV8),b.roundPct),v9:fmtChartJS(b,o,b.fmtV9),v10:fmtChartJS(b,p-calculateOffset(b,a.datasets[k].data[l],i,h),b.fmtV10),v11:fmtChartJS(b,k,b.fmtV11),v12:fmtChartJS(b,l,b.fmtV12)});c.translate(f(l)+s,e(k,l)-t),c.rotate(b.inGraphDataRotate*(Math.PI/180)),c.fillText(u,0,0),c.restore()}if(c.stroke(),b.datasetFill?(c.lineTo(o+n*(a.datasets[k].data.length-1),p-x),c.lineTo(f(q),p-x),c.lineTo(f(q),e(k,q)),c.closePath(),c.fillStyle="string"==typeof a.datasets[k].fillColor?a.datasets[k].fillColor:b.defaultFillColor,c.fill()):c.closePath(),b.pointDot){c.fillStyle=a.datasets[k].pointColor,c.strokeStyle=a.datasets[k].pointStrokeColor,c.lineWidth=b.pointDotStrokeWidth;for(var v=0;v<a.datasets[k].data.length;v++)"undefined"!=typeof a.datasets[k].data[v]&&(c.beginPath(),c.arc(o+n*v,p-d*calculateOffset(b,a.datasets[k].data[v],i,h),b.pointDotRadius,0,2*Math.PI,!0),c.fill(),c.stroke())}}}function e(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(o-b.scaleTickSizeLeft,p),c.lineTo(o+q.availableWidth+b.scaleTickSizeRight,p),c.stroke();for(var d=0;d<a.labels.length;d++)c.beginPath(),c.moveTo(o+d*n,p+b.scaleTickSizeBottom),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(o+d*n,p-q.availableHeight-b.scaleTickSizeTop):c.lineTo(o+d*n,p),c.stroke();c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(o,p+b.scaleTickSizeBottom),c.lineTo(o,p-q.availableHeight-b.scaleTickSizeTop),c.stroke();for(var e=0;e<i.steps;e++)c.beginPath(),c.moveTo(o-b.scaleTickSizeLeft,p-(e+1)*h),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&e%b.scaleYGridLinesStep==0?c.lineTo(o+q.availableWidth+b.scaleTickSizeRight,p-(e+1)*h):c.lineTo(o,p-(e+1)*h),c.stroke()}function f(){if(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",q.rotateLabels>90?(c.save(),c.textAlign="left"):q.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=0;d<a.labels.length;d++)c.save(),q.rotateLabels>0?(c.translate(o+d*n-b.scaleFontSize/2,q.xLabelPos),c.rotate(-(q.rotateLabels*(Math.PI/180))),c.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),0,0)):c.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),o+d*n,q.xLabelPos),c.restore();c.textAlign="right",c.textBaseline="middle";for(var e=b.showYAxisMin?-1:0;e<i.steps;e++)b.scaleShowLabels&&(b.yAxisLeft&&(c.textAlign="right",c.fillText(i.labels[e+1],o-(b.scaleTickSizeLeft+b.yAxisSpaceRight),p-(e+1)*h)),b.yAxisRight&&(c.textAlign="left",c.fillText(i.labels[e+1],o+q.availableWidth+(b.scaleTickSizeRight+b.yAxisSpaceRight),p-(e+1)*h)))}function g(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++)1*a.datasets[e].data[f]>c&&(c=1*a.datasets[e].data[f]),1*a.datasets[e].data[f]<d&&(d=1*a.datasets[e].data[f]);Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0),isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax),j=b.scaleFontSize,k=q.availableHeight;var g=Math.floor(k/(.66*j)),h=Math.floor(k/j*.5);return{maxValue:c,minValue:d,maxSteps:g,minSteps:h}}var h,i,j,k,l,m,n,o,p,q,r=0;if("undefined"==typeof c.ChartNewId){var s=new Date,t=s.getTime();c.ChartNewId="Line_"+t}for(var u=0,v=0;v<a.datasets.length;v++)u=Max([u,a.datasets[v].data.length]);if(1==u){"string"==typeof a.labels[0]&&(a.labels=["",a.labels[0],""]);for(var v=0;v<a.datasets.length;v++)a.datasets[v].data=[void 0,a.datasets[v].data[0],void 0]}if(dynamicFunction(a,b,c,"Line")){jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"Line"),setRect(c,b),q=setMeasures(a,b,c,height,width,[""],!1,!1,!0,!0,b.datasetFill),l=g(),b.logarithmic!==!1&&l.minValue<=0&&(b.logarithmic=!1);var w=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(l.maxValue)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(l.minValue)));("fuzzy"==b.logarithmic&&4>w||b.scaleOverride)&&(b.logarithmic=!1),m=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(i={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,graphMax:b.scaleStartValue+b.scaleSteps*b.scaleStepWidth,labels:[]},populateLabels(b,m,i.labels,i.steps,b.scaleStartValue,i.graphMax,b.scaleStepWidth),q=setMeasures(a,b,c,height,width,i.labels,!1,!1,!0,!0,b.datasetFill)):(i=calculateScale(b,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),q=setMeasures(a,b,c,height,width,i.labels,!1,!1,!0,!0,b.datasetFill)),q.availableHeight=q.availableHeight-b.scaleTickSizeBottom-b.scaleTickSizeTop,q.availableWidth=q.availableWidth-b.scaleTickSizeLeft-b.scaleTickSizeRight,h=Math.floor(q.availableHeight/i.steps),n=Math.floor(q.availableWidth/(a.labels.length-1)),0==n&&(n=q.availableWidth/(a.labels.length-1)),q.clrwidth=q.clrwidth-(q.availableWidth-(a.labels.length-1)*n),q.availableWidth=(a.labels.length-1)*n,q.availableHeight=i.steps*h,o=q.leftNotUsableSize+b.scaleTickSizeLeft,p=q.topNotUsableSize+q.availableHeight+b.scaleTickSizeTop,f();var x=0;if(l.minValue<0)var x=calculateOffset(b,0,i,h);animationLoop(b,e,d,c,q.clrx,q.clry,q.clrwidth,q.clrheight,o+q.availableWidth/2,p-q.availableHeight/2,o,p,a)}},StackedBar=function(a,b,c){function d(d){c.lineWidth=b.barStrokeWidth;for(var e=new Array(a.datasets.length),f=new Array(a.datasets.length),g=new Array,j=new Array,k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)g[l]=0,j[l]=0;for(var k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)"undefined"!=typeof a.datasets[k].data[l]&&(j[l]+=1*a.datasets[k].data[l]);for(var k=0;k<a.datasets.length;k++){d>=1&&(lgtxt="string"==typeof a.datasets[k].title?a.datasets[k].title.trim():"");for(var l=0;l<a.datasets[k].data.length;l++)if(c.fillStyle=b.defaultFillColor,"string"==typeof a.datasets[k].fillColor?c.fillStyle=a.datasets[k].fillColor:"object"==typeof a.datasets[k].fillColor&&"string"==typeof a.datasets[k].fillColor[0]&&(c.fillStyle=a.datasets[k].fillColor[Min([a.datasets[k].fillColor.length-1,l])]),c.strokeStyle=b.defaultStrokeColor,"string"==typeof a.datasets[k].strokeColor?c.strokeStyle=a.datasets[k].strokeColor:"object"==typeof a.datasets[k].strokeColor&&"string"==typeof a.datasets[k].strokeColor[0]&&(c.strokeStyle=a.datasets[k].strokeColor[Min([a.datasets[k].strokeColor.length-1,l])]),0==k&&(e[l]=0,f[l]=-1),"undefined"!=typeof a.datasets[k].data[l]){var m=o+b.barValueSpacing+n*l;c.beginPath(),c.moveTo(m,p-e[l]+1),c.lineTo(m,p-d*calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)+b.barStrokeWidth/2-e[l]),c.lineTo(m+q,p-d*calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)+b.barStrokeWidth/2-e[l]),c.lineTo(m+q,p-e[l]+1),b.barShowStroke&&c.stroke(),c.closePath(),c.fill(),g[l]+=1*a.datasets[k].data[l],d>=1&&(lgtxt2="string"==typeof a.labels[l]?a.labels[l].trim():"",jsGraphAnnotate[c.ChartNewId][u++]=["RECT",m,p-e[l]+1,m+q,p-calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)+b.barStrokeWidth/2-e[l],lgtxt,lgtxt2,1*a.datasets[k].data[l],g[l],j[l],k,l]),e[l]+=d*calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)-b.barStrokeWidth/2,-1==f[l]&&(f[l]=k)}}if(d>=1&&b.inGraphDataShow){for(var r=0,s=0,k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)g[l]=0;for(var k=0;k<a.datasets.length;k++){lgtxt="string"==typeof a.datasets[k].title?a.datasets[k].title.trim():"";for(var l=0;l<a.datasets[k].data.length;l++)if(0==k&&(e[l]=0,f[l]=-1),"undefined"!=typeof a.datasets[k].data[l]){c.save(),c.textAlign=b.inGraphDataAlign,c.textBaseline=b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor,lgtxt2="string"==typeof a.labels[l]?a.labels[l].trim():"";var t=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[k].data[l],b.fmtV3),v4:fmtChartJS(b,g[l],b.fmtV4),v5:fmtChartJS(b,j[l],b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[k].data[l]/j[l],b.fmtV6),b.roundPct),v7:fmtChartJS(b,m,b.fmtV7),v8:fmtChartJS(b,p,b.fmtV8),v9:fmtChartJS(b,m+q,b.fmtV9),v10:fmtChartJS(b,p-calculateOffset(b,a.datasets[k].data[l],i,h)+b.barStrokeWidth/2,b.fmtV10),v11:fmtChartJS(b,k,b.fmtV11),v12:fmtChartJS(b,l,b.fmtV12)}),m=o+b.barValueSpacing+n*l;c.beginPath(),c.beginPath(),r=0,s=0,1==b.inGraphDataXPosition?s=m+b.inGraphDataPaddingX:2==b.inGraphDataXPosition?s=m+q/2+b.inGraphDataPaddingX:3==b.inGraphDataXPosition&&(s=m+q+b.inGraphDataPaddingX),1==b.inGraphDataYPosition?r=p-e[l]-b.inGraphDataPaddingY:2==b.inGraphDataYPosition?r=p-(calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)+b.barStrokeWidth/2)/2-e[l]-b.inGraphDataPaddingY:3==b.inGraphDataYPosition&&(r=p-calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)+b.barStrokeWidth/2-e[l]-b.inGraphDataPaddingY),c.translate(s,r),c.rotate(b.inGraphDataRotate*(Math.PI/180)),c.fillText(t,0,0),c.restore(),g[l]+=1+a.datasets[k].data[l],e[l]+=d*calculateOffset(b,(f[l]>=0)*i.graphMin+1*a.datasets[k].data[l],i,h)-b.barStrokeWidth/2,-1==f[l]&&(f[l]=k)}}}}function e(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(o-b.scaleTickSizeLeft,p),c.lineTo(o+r.availableWidth+b.scaleTickSizeRight,p),c.stroke();for(var d=0;d<a.labels.length;d++)c.beginPath(),c.moveTo(o+d*n,p+b.scaleTickSizeBottom),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(o+d*n,p-r.availableHeight-b.scaleTickSizeTop):c.lineTo(o+d*n,p),c.stroke();c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(o,p+b.scaleTickSizeBottom),c.lineTo(o,p-r.availableHeight-b.scaleTickSizeTop),c.stroke();for(var e=b.showYAxisMin?-1:0;e<i.steps;e++)c.beginPath(),c.moveTo(o-b.scaleTickSizeLeft,p-(e+1)*h),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&e%b.scaleYGridLinesStep==0?c.lineTo(o+r.availableWidth+b.scaleTickSizeRight,p-(e+1)*h):c.lineTo(o,p-(e+1)*h),c.stroke()}function f(){if(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",r.rotateLabels>90?(c.save(),c.textAlign="left"):r.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=0;d<a.labels.length;d++)c.save(),r.rotateLabels>0?(c.translate(o+d*n+q/2-b.scaleFontSize/2,r.xLabelPos),c.rotate(-(r.rotateLabels*(Math.PI/180))),c.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),0,0)):c.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),o+d*n+q/2,r.xLabelPos),c.restore();c.textAlign="right",c.textBaseline="middle";for(var e=b.showYAxisMin?-1:0;e<i.steps;e++)b.scaleShowLabels&&(b.yAxisLeft&&(c.textAlign="right",c.fillText(i.labels[e+1],o-(b.scaleTickSizeLeft+b.yAxisSpaceRight),p-(e+1)*h)),b.yAxisRight&&(c.textAlign="left",c.fillText(i.labels[e+1],o+r.availableWidth+(b.scaleTickSizeRight+b.yAxisSpaceRight),p-(e+1)*h)))}function g(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=(new Array(a.datasets.length),new Array(a.datasets.length),0);e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++){var g=e,h=0;for("undefined"!=typeof a.datasets[0].data[f]&&(h+=1*a.datasets[0].data[f],h>c&&(c=h),d>h&&(d=h));g>0;)"undefined"!=typeof a.datasets[g].data[f]&&(h+=1*a.datasets[g].data[f],h>c&&(c=h),d>h&&(d=h)),g--}isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax),Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0),j=b.scaleFontSize,k=r.availableHeight;var i=Math.floor(k/(.66*j)),l=Math.floor(k/j*.5);return{maxValue:c,minValue:d,maxSteps:i,minSteps:l}}var h,i,j,k,l,m,n,o,p,q,r;if("undefined"==typeof c.ChartNewId){var s=new Date,t=s.getTime();c.ChartNewId="StackedBar_"+t}if(dynamicFunction(a,b,c,"StackedBar")){b.logarithmic=!1;var u=0;if(jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"StackedBar"),setRect(c,b),r=setMeasures(a,b,c,height,width,[""],!0,!1,!0,!0,!0),l=g(),m=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){i={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]};for(var v=0;v<i.steps;v++)m&&i.labels.push(tmpl(m,{value:fmtChartJS(b,1*(b.scaleStartValue+b.scaleStepWidth*(v+1)).toFixed(getDecimalPlaces(b.scaleStepWidth)),b.fmtYLabel)}));r=setMeasures(a,b,c,height,width,i.labels,!0,!1,!0,!0,!0)}else i=calculateScale(b,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),r=setMeasures(a,b,c,height,width,i.labels,!0,!1,!0,!0,!0);r.availableHeight=r.availableHeight-b.scaleTickSizeBottom-b.scaleTickSizeTop,r.availableWidth=r.availableWidth-b.scaleTickSizeLeft-b.scaleTickSizeRight,h=Math.floor(r.availableHeight/i.steps),n=Math.floor(r.availableWidth/a.labels.length),0==n&&(n=r.availableWidth/(a.labels.length-1)),r.clrwidth=r.clrwidth-(r.availableWidth-a.labels.length*n),r.availableWidth=a.labels.length*n,r.availableHeight=i.steps*h,o=r.leftNotUsableSize+b.scaleTickSizeLeft,p=r.topNotUsableSize+r.availableHeight+b.scaleTickSizeTop,q=n-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-b.barStrokeWidth/2-1,f(),animationLoop(b,e,d,c,r.clrx,r.clry,r.clrwidth,r.clrheight,o+r.availableWidth/2,p-r.availableHeight/2,o,p,a)}},HorizontalStackedBar=function(a,b,c){function d(a,b,c){var d=b.steps*b.stepValue,e=a-b.graphMin,f=CapValue(e/d,1,0);return c*b.steps*f}function e(e){c.lineWidth=b.barStrokeWidth;for(var f=new Array(a.datasets.length),g=new Array(a.datasets.length),h=new Array,k=new Array,l=0;l<a.datasets.length;l++)for(var m=0;m<a.datasets[l].data.length;m++)h[m]=0,k[m]=0;for(var l=0;l<a.datasets.length;l++)for(var m=0;m<a.datasets[l].data.length;m++)"undefined"!=typeof a.datasets[l].data[m]&&(k[m]+=1*a.datasets[l].data[m]);for(var l=0;l<a.datasets.length;l++){e>=1&&(lgtxt="string"==typeof a.datasets[l].title?a.datasets[l].title.trim():"");for(var m=0;m<a.datasets[l].data.length;m++)if(c.fillStyle=b.defaultFillColor,"string"==typeof a.datasets[l].fillColor?c.fillStyle=a.datasets[l].fillColor:"object"==typeof a.datasets[l].fillColor&&"string"==typeof a.datasets[l].fillColor[0]&&(c.fillStyle=a.datasets[l].fillColor[Min([a.datasets[l].fillColor.length-1,m])]),c.strokeStyle=b.defaultStrokeColor,"string"==typeof a.datasets[l].strokeColor?c.strokeStyle=a.datasets[l].strokeColor:"object"==typeof a.datasets[l].strokeColor&&"string"==typeof a.datasets[l].strokeColor[0]&&(c.strokeStyle=a.datasets[l].strokeColor[Min([a.datasets[l].strokeColor.length-1,m])]),0==l&&(f[m]=0,g[m]=-1),"undefined"!=typeof a.datasets[l].data[m]){var n=q+b.barValueSpacing-i*(m+1);c.beginPath(),c.moveTo(p+f[m]+1,n),c.lineTo(p+f[m]+e*d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2,n),c.lineTo(p+f[m]+e*d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2,n+r),c.lineTo(p+f[m]+1,n+r),c.lineTo(p+f[m]+1,n),b.barShowStroke&&c.stroke(),c.closePath(),c.fill(),h[m]+=1*a.datasets[l].data[m],e>=1&&(lgtxt2="string"==typeof a.labels[m]?a.labels[m].trim():"",jsGraphAnnotate[c.ChartNewId][v++]=["RECT",p+f[m]+1,n+r,p+f[m]+d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2,n,lgtxt,lgtxt2,1*a.datasets[l].data[m],h[m],k[m],l,m]),f[m]+=e*d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2,-1==g[m]&&(g[m]=l)}}if(e>=1&&b.inGraphDataShow){for(var s=0,t=0,l=0;l<a.datasets.length;l++)for(var m=0;m<a.datasets[l].data.length;m++)h[m]=0;for(var l=0;l<a.datasets.length;l++){lgtxt="string"==typeof a.datasets[l].title?a.datasets[l].title.trim():"";for(var m=0;m<a.datasets[l].data.length;m++)if(0==l&&(f[m]=0,g[m]=-1),"undefined"!=typeof a.datasets[l].data[m]){c.save(),c.textAlign=b.inGraphDataAlign,c.textBaseline=b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor,lgtxt2="string"==typeof a.labels[m]?a.labels[m].trim():"";
var n=q+b.barValueSpacing-i*(m+1),u=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[l].data[m],b.fmtV3),v4:fmtChartJS(b,h[m],b.fmtV4),v5:fmtChartJS(b,k[m],b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[l].data[m]/k[m],b.fmtV6),b.roundPct),v7:fmtChartJS(b,p,b.fmtV7),v8:fmtChartJS(b,n+r,b.fmtV8),v9:fmtChartJS(b,p+d(a.datasets[l].data[m],j,o)+b.barStrokeWidth/2,b.fmtV9),v10:fmtChartJS(b,n,b.fmtV10),v11:fmtChartJS(b,l,b.fmtV11),v12:fmtChartJS(b,m,b.fmtV12)});c.beginPath(),s=0,t=0,1==b.inGraphDataXPosition?t=p+f[m]+1+b.inGraphDataPaddingX:2==b.inGraphDataXPosition?t=p+f[m]+(d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2)/2+b.inGraphDataPaddingX:3==b.inGraphDataXPosition&&(t=p+f[m]+d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2+b.inGraphDataPaddingX),1==b.inGraphDataYPosition?s=n+r-b.inGraphDataPaddingY:2==b.inGraphDataYPosition?s=n+r/2-b.inGraphDataPaddingY:3==b.inGraphDataYPosition&&(s=n-b.inGraphDataPaddingY),c.translate(t,s),c.rotate(b.inGraphDataRotate*(Math.PI/180)),c.fillText(u,0,0),c.restore(),h[m]+=a.datasets[l].data[m],f[m]+=e*d((g[m]>=0)*j.graphMin+1*a.datasets[l].data[m],j,o)+b.barStrokeWidth/2,-1==g[m]&&(g[m]=l)}}}}function f(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(p-b.scaleTickSizeLeft,q),c.lineTo(p+s.availableWidth,q),c.stroke();for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)d>=0&&(c.beginPath(),c.moveTo(p+d*o,q+b.scaleTickSizeBottom),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(p+d*o,q-s.availableHeight-b.scaleTickSizeTop):c.lineTo(p+d*o,q),c.stroke());c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(p,q+b.scaleTickSizeBottom),c.lineTo(p,q-s.availableHeight-b.scaleTickSizeTop),c.stroke();for(var e=0;e<a.labels.length;e++)c.beginPath(),c.moveTo(p-b.scaleTickSizeLeft,q-(e+1)*i),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&e%b.scaleYGridLinesStep==0?c.lineTo(p+s.availableWidth,q-(e+1)*i):c.lineTo(p,q-(e+1)*i),c.stroke()}function g(){if(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",s.rotateLabels>90?(c.save(),c.textAlign="left"):s.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)c.save(),s.rotateLabels>0?(c.translate(p+(d+1)*o-b.scaleFontSize/2,s.xLabelPos),c.rotate(-(s.rotateLabels*(Math.PI/180))),c.fillText(j.labels[d+1],0,0)):c.fillText(j.labels[d+1],p+(d+1)*o,s.xLabelPos),c.restore();c.textAlign="right",c.textBaseline="middle";for(var e=0;e<a.labels.length;e++)b.scaleShowLabels&&(b.yAxisLeft&&(c.textAlign="right",c.fillText(fmtChartJS(b,a.labels[e],b.fmtXLabel),p-(b.scaleTickSizeLeft+b.yAxisSpaceRight),q-(e+1)*i+r/2)),b.yAxisRight&&(c.textAlign="left",c.fillText(fmtChartJS(b,a.labels[e],b.fmtXLabel),p+s.availableWidth+(b.scaleTickSizeRight+b.yAxisSpaceRight),q-(e+1)*i+r/2)))}function h(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=(new Array(a.datasets.length),new Array(a.datasets.length),0);e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++){var g=e,h=0;for("undefined"!=typeof a.datasets[0].data[f]&&(h+=1*a.datasets[0].data[f],h>c&&(c=h),d>h&&(d=h));g>0;)"undefined"!=typeof a.datasets[g].data[f]&&(h+=1*a.datasets[g].data[f],h>c&&(c=h),d>h&&(d=h)),g--}isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax),Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0);var i=Math.floor(l/(.66*k)),j=Math.floor(l/k*.5);return{maxValue:c,minValue:d,maxSteps:i,minSteps:j}}var i,j,k,l,m,n,o,p,q,r,s;if("undefined"==typeof c.ChartNewId){var t=new Date,u=t.getTime();c.ChartNewId="HorizontalStackedBar_"+u}if(dynamicFunction(a,b,c,"HorizontalStackedBar")){b.logarithmic=!1;var v=0;if(jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"HorizontalStackedBar"),setRect(c,b),m=h(),n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){j={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]};for(var w=0;w<j.steps;w++)n&&j.labels.push(tmpl(n,{value:fmtChartJS(b,1*(b.scaleStartValue+b.scaleStepWidth*(w+1)).toFixed(getDecimalPlaces(b.scaleStepWidth)),b.fmtYLabel)}));s=setMeasures(a,b,c,height,width,j.labels,!0,!0,!0,!0,!0)}else j=calculateScale(b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),s=setMeasures(a,b,c,height,width,j.labels,!0,!0,!0,!0,!0);s.availableHeight=s.availableHeight-b.scaleTickSizeBottom-b.scaleTickSizeTop,s.availableWidth=s.availableWidth-b.scaleTickSizeLeft-b.scaleTickSizeRight,i=Math.floor(s.availableHeight/a.labels.length),o=Math.floor(s.availableWidth/j.steps),0==o&&(o=s.availableWidth/(a.labels.length-1)),s.clrwidth=s.clrwidth-(s.availableWidth-j.steps*o),s.availableWidth=j.steps*o,s.availableHeight=a.labels.length*i,p=s.leftNotUsableSize+b.scaleTickSizeLeft,q=s.topNotUsableSize+s.availableHeight+b.scaleTickSizeTop,r=i-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-b.barStrokeWidth/2-1,g(),animationLoop(b,f,e,c,s.clrx,s.clry,s.clrwidth,s.clrheight,p+s.availableWidth/2,q-s.availableHeight/2,p,q,a)}},Bar=function(a,b,c){function d(d){for(var f,g,h,k=new Array,l=new Array,m=0;m<a.datasets.length;m++)for(var n=0;n<a.datasets[m].data.length;n++)k[n]=0,l[n]=0;for(var m=0;m<a.datasets.length;m++)for(var n=0;n<a.datasets[m].data.length;n++)"undefined"!=typeof a.datasets[m].data[n]&&(l[n]+=1*a.datasets[m].data[n]);c.lineWidth=b.barStrokeWidth;for(var m=0;m<a.datasets.length;m++){d>=1&&(lgtxt="string"==typeof a.datasets[m].title?a.datasets[m].title.trim():"");for(var n=0;n<a.datasets[m].data.length;n++)if(c.fillStyle=b.defaultFillColor,"string"==typeof a.datasets[m].fillColor?c.fillStyle=a.datasets[m].fillColor:"object"==typeof a.datasets[m].fillColor&&"string"==typeof a.datasets[m].fillColor[0]&&(c.fillStyle=a.datasets[m].fillColor[Min([a.datasets[m].fillColor.length-1,n])]),c.strokeStyle=b.defaultStrokeColor,"string"==typeof a.datasets[m].strokeColor?c.strokeStyle=a.datasets[m].strokeColor:"object"==typeof a.datasets[m].strokeColor&&"string"==typeof a.datasets[m].strokeColor[0]&&(c.strokeStyle=a.datasets[m].strokeColor[Min([a.datasets[m].strokeColor.length-1,n])]),"undefined"!=typeof a.datasets[m].data[n]){var s=p+b.barValueSpacing+o*n+r*m+b.barDatasetSpacing*m+b.barStrokeWidth*m,u=d*calculateOffset(b,1*a.datasets[m].data[n],j,i)+b.barStrokeWidth/2;e(c,s,q,r,u,b.barShowStroke,b.barBorderRadius,x),k[n]+=1*a.datasets[m].data[n],d>=1&&(lgtxt2="string"==typeof a.labels[n]?a.labels[n].trim():"",f=q-x,g=q-calculateOffset(b,1*a.datasets[m].data[n],j,i)+b.barStrokeWidth/2,g>f&&(h=f,f=g,g=h),jsGraphAnnotate[c.ChartNewId][t++]=["RECT",s,f,s+r,g,lgtxt,lgtxt2,1*a.datasets[m].data[n],k[n],l[n],m,n])}}if(d>=1&&b.inGraphDataShow){for(var m=0;m<a.datasets.length;m++)for(var n=0;n<a.datasets[m].data.length;n++)k[n]=0;for(var m=0;m<a.datasets.length;m++){lgtxt="string"==typeof a.datasets[m].title?a.datasets[m].title.trim():"";for(var n=0;n<a.datasets[m].data.length;n++)if("undefined"!=typeof a.datasets[m].data[n]){"string"==typeof a.labels[n]&&(lgtxt2=a.labels[n].trim()),c.save(),c.textAlign=b.inGraphDataAlign,c.textBaseline=b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var s=p+b.barValueSpacing+o*n+r*m+b.barDatasetSpacing*m+b.barStrokeWidth*m;f=q-x,g=q-calculateOffset(b,1*a.datasets[m].data[n],j,i)+b.barStrokeWidth/2,c.beginPath();var v=0,w=0;1==b.inGraphDataXPosition?w=s+b.inGraphDataPaddingX:2==b.inGraphDataXPosition?w=s+r/2+b.inGraphDataPaddingX:3==b.inGraphDataXPosition&&(w=s+r+b.inGraphDataPaddingX),1==b.inGraphDataYPosition?v=q-x-b.inGraphDataPaddingY:2==b.inGraphDataYPosition?v=q-(calculateOffset(b,1*a.datasets[m].data[n],j,i)+b.barStrokeWidth/2)/2-b.inGraphDataPaddingY:3==b.inGraphDataYPosition&&(v=q-calculateOffset(b,1*a.datasets[m].data[n],j,i)+b.barStrokeWidth/2-b.inGraphDataPaddingY),c.translate(w,v);var y=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[m].data[n],b.fmtV3),v4:fmtChartJS(b,k[n],b.fmtV4),v5:fmtChartJS(b,l[n],b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[m].data[n]/l[n],b.fmtV6),b.roundPct),v7:fmtChartJS(b,s,b.fmtV7),v8:fmtChartJS(b,f,b.fmtV8),v9:fmtChartJS(b,s+r,b.fmtV9),v10:fmtChartJS(b,g,b.fmtV10),v11:fmtChartJS(b,m,b.fmtV11),v12:fmtChartJS(b,n,b.fmtV12)});c.rotate(b.inGraphDataRotate*(Math.PI/180)),c.fillText(y,0,0),c.restore(),k[n]+=1*a.datasets[m].data[n]}}}}function e(a,b,c,d,e,f,g,h){a.beginPath(),a.moveTo(b+g,c-h),a.lineTo(b+d-g,c-h),a.quadraticCurveTo(b+d,c-h,b+d,c-h),a.lineTo(b+d,c-e+g),a.quadraticCurveTo(b+d,c-e,b+d-g,c-e),a.lineTo(b+g,c-e),a.quadraticCurveTo(b,c-e,b,c-e+g),a.lineTo(b,c-h),a.quadraticCurveTo(b,c-h,b+g,c-h),f&&a.stroke(),a.closePath(),a.fill()}function f(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(p-b.scaleTickSizeLeft,q),c.lineTo(p+s.availableWidth+b.scaleTickSizeRight,q),c.stroke();for(var d=0;d<a.labels.length;d++)c.beginPath(),c.moveTo(p+d*o,q+b.scaleTickSizeBottom),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(p+d*o,q-s.availableHeight-b.scaleTickSizeTop):c.lineTo(p+d*o,q),c.stroke();c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(p,q+b.scaleTickSizeBottom),c.lineTo(p,q-s.availableHeight-b.scaleTickSizeTop),c.stroke();for(var e=0;e<j.steps;e++)c.beginPath(),c.moveTo(p-b.scaleTickSizeLeft,q-(e+1)*i),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&e%b.scaleYGridLinesStep==0?c.lineTo(p+s.availableWidth+b.scaleTickSizeRight,q-(e+1)*i):c.lineTo(p,q-(e+1)*i),c.stroke()}function g(){if(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",s.rotateLabels>90?(c.save(),c.textAlign="left"):s.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=0;d<a.labels.length;d++)c.save(),s.rotateLabels>0?(c.translate(p+d*o+o/2-b.scaleFontSize/2,s.xLabelPos),c.rotate(-(s.rotateLabels*(Math.PI/180))),c.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),0,0)):c.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),p+d*o+o/2,s.xLabelPos),c.restore();c.textAlign="right",c.textBaseline="middle";for(var e=b.showYAxisMin?-1:0;e<j.steps;e++)b.scaleShowLabels&&(b.yAxisLeft&&(c.textAlign="right",c.fillText(j.labels[e+1],p-(b.scaleTickSizeLeft+b.yAxisSpaceRight),q-(e+1)*i)),b.yAxisRight&&(c.textAlign="left",c.fillText(j.labels[e+1],p+s.availableWidth+(b.scaleTickSizeRight+b.yAxisSpaceRight),q-(e+1)*i)))}function h(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++)1*a.datasets[e].data[f]>c&&(c=1*a.datasets[e].data[f]),1*a.datasets[e].data[f]<d&&(d=1*a.datasets[e].data[f]);Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0),isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax),k=b.scaleFontSize,l=s.availableHeight;var g=Math.floor(l/(.66*k)),h=Math.floor(l/k*.5);return{maxValue:c,minValue:d,maxSteps:g,minSteps:h}}var i,j,k,l,m,n,o,p,q,r,s,t=0;if("undefined"==typeof c.ChartNewId){var u=new Date,v=u.getTime();c.ChartNewId="Bar_"+v}if(dynamicFunction(a,b,c,"Bar")){jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"Bar"),setRect(c,b),s=setMeasures(a,b,c,height,width,[""],!0,!1,!0,!0,!0),m=h(),b.logarithmic!==!1&&m.minValue<=0&&(b.logarithmic=!1);var w=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(m.maxValue)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(m.minValue)));("fuzzy"==b.logarithmic&&4>w||b.scaleOverride)&&(b.logarithmic=!1),n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(j={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,graphMax:b.scaleStartValue+b.scaleSteps*b.scaleStepWidth,labels:[]},populateLabels(b,n,j.labels,j.steps,b.scaleStartValue,j.graphMax,b.scaleStepWidth),s=setMeasures(a,b,c,height,width,j.labels,!0,!1,!0,!0,!0)):(j=calculateScale(b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),s=setMeasures(a,b,c,height,width,j.labels,!0,!1,!0,!0,!0)),s.availableHeight=s.availableHeight-b.scaleTickSizeBottom-b.scaleTickSizeTop,s.availableWidth=s.availableWidth-b.scaleTickSizeLeft-b.scaleTickSizeRight,i=Math.floor(s.availableHeight/j.steps),o=Math.floor(s.availableWidth/a.labels.length),0==o&&(o=s.availableWidth/(a.labels.length-1)),s.clrwidth=s.clrwidth-(s.availableWidth-a.labels.length*o),s.availableWidth=a.labels.length*o,s.availableHeight=j.steps*i,p=s.leftNotUsableSize+b.scaleTickSizeLeft,q=s.topNotUsableSize+s.availableHeight+b.scaleTickSizeTop,r=(o-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-(b.barStrokeWidth/2*a.datasets.length-1))/a.datasets.length;var x=0;if(m.minValue<0)var x=calculateOffset(b,0,j,i);g(),animationLoop(b,f,d,c,s.clrx,s.clry,s.clrwidth,s.clrheight,p+s.availableWidth/2,q-s.availableHeight/2,p,q,a)}},HorizontalBar=function(a,b,c){function d(d){for(var f=new Array,g=new Array,h=0;h<a.datasets.length;h++)for(var k=0;k<a.datasets[h].data.length;k++)f[k]=0,g[k]=0;for(var h=0;h<a.datasets.length;h++)for(var k=0;k<a.datasets[h].data.length;k++)"undefined"!=typeof a.datasets[h].data[k]&&(g[k]+=1*a.datasets[h].data[k]);c.lineWidth=b.barStrokeWidth;for(var h=0;h<a.datasets.length;h++){d>=1&&(lgtxt="string"==typeof a.datasets[h].title?a.datasets[h].title.trim():"");for(var k=0;k<a.datasets[h].data.length;k++)if(c.fillStyle=b.defaultFillColor,"string"==typeof a.datasets[h].fillColor?c.fillStyle=a.datasets[h].fillColor:"object"==typeof a.datasets[h].fillColor&&"string"==typeof a.datasets[h].fillColor[0]&&(c.fillStyle=a.datasets[h].fillColor[Min([a.datasets[h].fillColor.length-1,k])]),c.strokeStyle=b.defaultStrokeColor,"string"==typeof a.datasets[h].strokeColor?c.strokeStyle=a.datasets[h].strokeColor:"object"==typeof a.datasets[h].strokeColor&&"string"==typeof a.datasets[h].strokeColor[0]&&(c.strokeStyle=a.datasets[h].strokeColor[Min([a.datasets[h].strokeColor.length-1,k])]),"undefined"!=typeof a.datasets[h].data[k]){var l=q+b.barValueSpacing-i*(k+1)+r*h+b.barDatasetSpacing*h+b.barStrokeWidth*h,m=d*calculateOffset(b,1*a.datasets[h].data[k],j,o)+b.barStrokeWidth/2;e(c,l,p,r,m,b.barShowStroke,b.barBorderRadius,w),f[k]+=1*a.datasets[h].data[k],d>=1&&(lgtxt2="string"==typeof a.labels[k]?a.labels[k].trim():"",t1=p+w,t2=p+calculateOffset(b,1*a.datasets[h].data[k],j,o)+b.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),jsGraphAnnotate[c.ChartNewId][v++]=["RECT",t1,l+r,t2,l,lgtxt,lgtxt2,1*a.datasets[h].data[k],f[k],g[k],h,k])}}if(d>=1&&b.inGraphDataShow){for(var h=0;h<a.datasets.length;h++)for(var k=0;k<a.datasets[h].data.length;k++)f[k]=0;for(var h=0;h<a.datasets.length;h++){lgtxt="string"==typeof a.datasets[h].title?a.datasets[h].title.trim():"";for(var k=0;k<a.datasets[h].data.length;k++)if("undefined"!=typeof a.datasets[h].data[k]){"string"==typeof a.labels[k]&&(lgtxt2=a.labels[k].trim()),c.save(),c.textAlign=b.inGraphDataAlign,c.textBaseline=b.inGraphDataVAlign,c.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,c.fillStyle=b.inGraphDataFontColor;var l=q+b.barValueSpacing-i*(k+1)+r*h+b.barDatasetSpacing*h+b.barStrokeWidth*h;t1=p+w,t2=p+calculateOffset(b,1*a.datasets[h].data[k],j,o)+b.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),c.beginPath();var n=0,s=0;1==b.inGraphDataYPosition?n=l-b.inGraphDataPaddingY+r:2==b.inGraphDataYPosition?n=l+r/2-b.inGraphDataPaddingY:3==b.inGraphDataYPosition&&(n=l-b.inGraphDataPaddingY),1==b.inGraphDataXPosition?s=p+w+b.inGraphDataPaddingX:2==b.inGraphDataXPosition?s=p+(calculateOffset(b,1*a.datasets[h].data[k],j,o)+b.barStrokeWidth/2)/2+b.inGraphDataPaddingX:3==b.inGraphDataXPosition&&(s=p+calculateOffset(b,1*a.datasets[h].data[k],j,o)+b.barStrokeWidth/2+b.inGraphDataPaddingX),c.translate(s,n);var t=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[h].data[k],b.fmtV3),v4:fmtChartJS(b,f[k],b.fmtV4),v5:fmtChartJS(b,g[k],b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[h].data[k]/g[k],b.fmtV6),b.roundPct),v7:fmtChartJS(b,t1,b.fmtV7),v8:fmtChartJS(b,l+r,b.fmtV8),v9:fmtChartJS(b,t2,b.fmtV9),v10:fmtChartJS(b,l,b.fmtV10),v11:fmtChartJS(b,h,b.fmtV11),v12:fmtChartJS(b,k,b.fmtV12)});c.rotate(b.inGraphDataRotate*(Math.PI/180)),c.fillText(t,0,0),c.restore(),f[k]+=1*a.datasets[h].data[k]}}}}function e(a,b,c,d,e,f,g,h){a.beginPath(),a.moveTo(c+h,b+g),a.lineTo(c+h,b+d-g),a.quadraticCurveTo(c+h,b+d,c+h,b+d),a.lineTo(c+e-g,b+d),a.quadraticCurveTo(c+e,b+d,c+e,b+d-g),a.lineTo(c+e,b+g),a.quadraticCurveTo(c+e,b,c+e-g,b),a.lineTo(c+h,b),a.quadraticCurveTo(c+h,b,c+h,b+g),f&&a.stroke(),a.closePath(),a.fill()}function f(){c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(p-b.scaleTickSizeLeft,q),c.lineTo(p+s.availableWidth+b.scaleTickSizeRight,q),c.stroke();for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)d>=0&&(c.beginPath(),c.moveTo(p+d*o,q+b.scaleTickSizeBottom),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(p+d*o,q-s.availableHeight-b.scaleTickSizeTop):c.lineTo(p+d*o,q),c.stroke());c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(p,q+b.scaleTickSizeBottom),c.lineTo(p,q-s.availableHeight-b.scaleTickSizeTop),c.stroke();for(var e=0;e<a.labels.length;e++)c.beginPath(),c.moveTo(p-b.scaleTickSizeLeft,q-(e+1)*i),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&e%b.scaleYGridLinesStep==0?c.lineTo(p+s.availableWidth+b.scaleTickSizeRight,q-(e+1)*i):c.lineTo(p,q-(e+1)*i),c.stroke()}function g(){if(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",s.rotateLabels>90?(c.save(),c.textAlign="left"):s.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)c.save(),s.rotateLabels>0?(c.translate(p+(d+1)*o-b.scaleFontSize/2,s.xLabelPos),c.rotate(-(s.rotateLabels*(Math.PI/180))),c.fillText(j.labels[d+1],0,0)):c.fillText(j.labels[d+1],p+(d+1)*o,s.xLabelPos),c.restore();c.textAlign="right",c.textBaseline="middle";for(var e=0;e<a.labels.length;e++)b.scaleShowLabels&&(b.yAxisLeft&&(c.textAlign="right",c.fillText(fmtChartJS(b,a.labels[e],b.fmtXLabel),p-(b.scaleTickSizeLeft+b.yAxisSpaceRight),q-e*i-i/2)),b.yAxisRight&&(c.textAlign="left",c.fillText(fmtChartJS(b,a.labels[e],b.fmtXLabel),p+s.availableWidth+(b.scaleTickSizeRight+b.yAxisSpaceRight),q-e*i-i/2)))}function h(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++)1*a.datasets[e].data[f]>c&&(c=1*a.datasets[e].data[f]),1*a.datasets[e].data[f]<d&&(d=1*a.datasets[e].data[f]);Math.abs(c-d)<1e-8&&(c=Max([2*c,1]),d=0),isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax);var g=Math.floor(l/(.66*k)),h=Math.floor(l/k*.5);return{maxValue:c,minValue:d,maxSteps:g,minSteps:h}}var i,j,k,l,m,n,o,p,q,r,s;if("undefined"==typeof c.ChartNewId){var t=new Date,u=t.getTime();c.ChartNewId="HorizontalBar_"+u}if(dynamicFunction(a,b,c,"HorizontalBar")){var v=0;jsGraphAnnotate[c.ChartNewId]=new Array,defMouse(c,a,b,"HorizontalBar"),setRect(c,b),m=h(),n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride?(j={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,graphMax:b.scaleStartValue+b.scaleSteps*b.scaleStepWidth,labels:[]},populateLabels(b,n,j.labels,j.steps,b.scaleStartValue,j.graphMax,b.scaleStepWidth),s=setMeasures(a,b,c,height,width,j.labels,!0,!0,!0,!0,!0)):(j=calculateScale(b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),s=setMeasures(a,b,c,height,width,j.labels,!0,!0,!0,!0,!0)),s.availableHeight=s.availableHeight-b.scaleTickSizeBottom-b.scaleTickSizeTop,s.availableWidth=s.availableWidth-b.scaleTickSizeLeft-b.scaleTickSizeRight,i=Math.floor(s.availableHeight/a.labels.length),o=Math.floor(s.availableWidth/j.steps),0==o&&(o=s.availableWidth/(a.labels.length-1)),s.clrwidth=s.clrwidth-(s.availableWidth-j.steps*o),s.availableWidth=j.steps*o,s.availableHeight=a.labels.length*i,p=s.leftNotUsableSize+b.scaleTickSizeLeft,q=s.topNotUsableSize+s.availableHeight+b.scaleTickSizeTop,r=(i-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-(b.barStrokeWidth/2*a.datasets.length-1))/a.datasets.length;var w=0;if(m.minValue<0)var w=calculateOffset(b,0,j,o);g(),animationLoop(b,f,d,c,s.clrx,s.clry,s.clrwidth,s.clrheight,p+s.availableWidth/2,q-s.availableHeight/2,p,q,a)}},requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),cache={}};